(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d474a73"],{"17e1":function(t,e,i){},"1f09":function(t,e,i){},3129:function(t,e,i){"use strict";i("a630"),i("c975"),i("d81d"),i("ac1f"),i("3ca3"),i("5319"),i("1276");var a=i("3835"),n=i("5530"),s=(i("1f09"),i("c995")),r=i("24b2"),o=i("7560"),l=i("58df"),d=i("80d2");e["a"]=Object(l["a"])(s["a"],r["a"],o["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:function(){return{}}}},computed:{attrs:function(){return this.isLoading?this.boilerplate?{}:Object(n["a"])({"aria-busy":!0,"aria-live":"polite",role:"alert"},this.$attrs):this.$attrs},classes:function(){return Object(n["a"])(Object(n["a"])({"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile},this.themeClasses),this.elevationClasses)},isLoading:function(){return!("default"in this.$scopedSlots)||this.loading},rootTypes:function(){return Object(n["a"])({actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text"},this.types)}},methods:{genBone:function(t,e){return this.$createElement("div",{staticClass:"v-skeleton-loader__".concat(t," v-skeleton-loader__bone")},e)},genBones:function(t){var e=this,i=t.split("@"),n=Object(a["a"])(i,2),s=n[0],r=n[1],o=function(){return e.genStructure(s)};return Array.from({length:r}).map(o)},genStructure:function(t){var e=[];t=t||this.type||"";var i=this.rootTypes[t]||"";if(t===i);else{if(t.indexOf(",")>-1)return this.mapBones(t);if(t.indexOf("@")>-1)return this.genBones(t);i.indexOf(",")>-1?e=this.mapBones(i):i.indexOf("@")>-1?e=this.genBones(i):i&&e.push(this.genStructure(i))}return[this.genBone(t,e)]},genSkeleton:function(){var t=[];return this.isLoading?t.push(this.genStructure()):t.push(Object(d["u"])(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},t):t},mapBones:function(t){return t.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter:function(t){this.resetStyles(t),this.isLoading&&(t._initialStyle={display:t.style.display,transition:t.style.transition},t.style.setProperty("transition","none","important"))},onBeforeLeave:function(t){t.style.setProperty("display","none","important")},resetStyles:function(t){t._initialStyle&&(t.style.display=t._initialStyle.display||"",t.style.transition=t._initialStyle.transition,delete t._initialStyle)}},render:function(t){return t("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},"36a8":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex flex-column flex-grow-1"},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-card",{staticClass:"pa-2"},[i("div",{staticClass:"title mb-2"},[t._v(" "+t._s(t.$t("general.mailTemplateContent"))+" ")]),i("v-form",[t.isLoading?i("div",{staticClass:"mb-4"},[i("v-skeleton-loader",{attrs:{type:"text",width:"20%"}}),i("v-skeleton-loader",{staticClass:"template-skeleton",attrs:{type:"text",width:"100%",height:"240px"}})],1):t._e(),t._l(t.settings,(function(e,a){return"mail_template"==e.group?i("div",{key:e.key,staticClass:"mb-4"},[i("label",{staticClass:"text--primary font-weight-medium text-darken mb-1 d-block"},[t._v(t._s(t.$t("email.generalMail")))]),i("ckeditor",{attrs:{editor:t.editor,config:t.editorConfig},model:{value:t.settings[a]["value"],callback:function(e){t.$set(t.settings[a],"value",e)},expression:"settings[key]['value']"}})],1):t._e()})),i("div",{staticClass:"d-flex mt-3"},[i("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:t.loading},on:{click:function(e){return e.preventDefault(),t.updateSettingMethod()}}},[t._v(t._s(t.$t("general.save")))])],1)],2)],1)],1)],1)],1)},n=[],s=i("5530"),r=i("fb3d"),o=i.n(r),l=i("2f62"),d=i("d7c2"),c={components:{},data:function(){return{isLoading:!1,loading:!1,breadcrumbs:[{text:this.$t("menu.settings"),disabled:!1,href:"#"},{text:this.$t("menu.mailTemplate")}],editor:o.a,editorData:"<p>مرحبا بالمستخدم <br>[[المحتوى]]</p>",editorConfig:{}}},computed:Object(s["a"])(Object(s["a"])({},Object(l["e"])("settings",["settings"])),{},{settings:{get:function(){return this.$store.state.settings.settings},set:function(t){this.$store.commit("settings/SET_SETTINGS",t)}}}),mounted:function(){this.open()},created:function(){this.setBreadCrumb({breadcrumbs:this.breadcrumbs,pageTitle:this.$t("menu.mailTemplate")})},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["b"])("settings",["getSettings","updateSettings"])),Object(l["b"])("app",["setBreadCrumb"])),{},{open:function(){var t=this;this.isLoading=!0,this.getSettings().then((function(){t.isLoading=!1})).catch((function(){t.isLoading=!1}))},updateSettingMethod:function(){var t=this,e={settings:this.settings};this.loading=!0,this.errors={},this.updateSettings(e).then((function(e){var i,a;t.loading=!1,t.errors={};var n=(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.message)||(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.msg);n&&Object(d["b"])("success",n)})).catch((function(e){if(t.loading=!1,422==e.response.status){var i,a=null===e||void 0===e||null===(i=e.response)||void 0===i?void 0:i.data,n=a.errors;t.errors=null!==n&&void 0!==n?n:{}}}))}})},u=c,h=(i("f730"),i("2877")),g=i("6544"),p=i.n(g),f=i("8336"),b=i("b0afa"),v=i("62ad"),m=i("4bd4"),y=i("0fd9"),S=i("3129"),k=Object(h["a"])(u,a,n,!1,null,null,null);e["default"]=k.exports;p()(k,{VBtn:f["a"],VCard:b["a"],VCol:v["a"],VForm:m["a"],VRow:y["a"],VSkeletonLoader:S["a"]})},f730:function(t,e,i){"use strict";i("17e1")}}]);