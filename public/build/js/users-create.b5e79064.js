(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["users-create"],{afdd:function(e,t,a){"use strict";var s=a("8336");a.d(t,"a",(function(){return s["a"]})),t["b"]=s["a"]},f4b2:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex-grow-1"},[a("v-tabs",{attrs:{"show-arrows":!1,"background-color":"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab",{attrs:{to:"#tabs-account"}},[e._v(e._s(e.$t("users.account")))])],1),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tabs-account"}},[a("account-tab",{ref:"tabs-account",attrs:{errors:e.errors,user:e.user,loading:e.loading},on:{createUser:e.createUser}})],1),a("v-tab-item",{attrs:{value:"tabs-information"}},[a("information-tab",{ref:"tabs-information",attrs:{user:e.user}})],1)],1)],1)},r=[],o=a("5530"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-2"},[a("div",[a("v-card",[a("v-card-title",[e._v(e._s(e.$t("users.basicInformation")))]),a("v-card-text",[a("div",{staticClass:"d-flex flex-column flex-sm-row"},[a("div",[a("v-img",{staticClass:"blue-grey lighten-4 rounded elevation-3",attrs:{src:e.user.avatar,"aspect-ratio":"1","max-width":"90","max-height":"90",loading:e.loading}}),a("input",{staticClass:"d-none",attrs:{type:"file",accept:"image/*",id:"update-avatar"}}),a("v-btn",{staticClass:"mt-1",attrs:{loading:e.loading,disabled:e.loading,small:""},on:{click:function(t){return t.preventDefault(),e.changeImage()}}},[e._v(" "+e._s(e.$t("users.EditAvatar"))+" ")])],1),a("div",{staticClass:"flex-grow-1 pt-2 pa-sm-2"},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{rules:[e.rules.required],label:e.$t("tables.username"),"error-messages":e.errors["username"]},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{rules:[e.rules.required],label:e.$t("tables.name"),"error-messages":e.errors["name"]},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{type:"email",rules:[e.rules.required],label:e.$t("tables.email"),"error-messages":e.errors["email"]},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-select",{staticClass:" mx-1",attrs:{label:"Select",items:e.translatedLocations,variant:"underlined",label:e.$t("general.location"),"item-text":"name","item-value":"id","hide-details":"","return-object":"",multiple:""},model:{value:e.selectedLocations,callback:function(t){e.selectedLocations=t},expression:"selectedLocations"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:e.$t("general.password"),type:e.showPassword?"text":"password","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",rules:[e.rules.required],"error-messages":e.errors["password"]},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:e.$t("check.confirmation_password"),type:"password","error-messages":e.errors["confirm_password"]},model:{value:e.user.confirm_password,callback:function(t){e.$set(e.user,"confirm_password",t)},expression:"user.confirm_password"}})],1)],1),a("div",{staticClass:"mt-2"},[a("v-btn",{attrs:{loading:e.loading,disabled:e.loading,color:"primary"},on:{click:e.updateProfile}},[e._v(" "+e._s(e.$t("general.save"))+" ")])],1)],1)])])],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.disableDialog,callback:function(t){e.disableDialog=t},expression:"disableDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v(e._s(e.$t("users.DisableUser")))]),a("v-card-text",[e._v(e._s(e.$t("users.Areyousureyouwanttodisablethisuser")))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:function(t){e.disableDialog=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"warning"},on:{click:function(t){e.user.disabled=!0,e.disableDialog=!1}}},[e._v("Disable"+e._s(e.$t("users.DangerZone")))])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v(e._s(e.$t("users.DeleteUser")))]),a("v-card-text",[e._v(e._s(e.$t("users.Areyousureyouwanttodeletethisuser")))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:function(t){e.deleteDialog=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"error"},on:{click:function(t){e.deleteDialog=!1}}},[e._v(e._s(e.$t("users.Delete")))])],1)],1)],1)],1)},n=[],i=(a("4160"),a("a15b"),a("d81d"),a("b0c0"),a("b64b"),a("159b"),a("2f62")),c={props:{user:{type:Object,default:function(){return{}}},errors:{type:Object,default:function(){}},loading:{type:Boolean,default:!1}},data:function(){return{panel:[1],showPassword:!1,avatar:{},deleteDialog:!1,disableDialog:!1,selectedLocations:[],rules:{required:function(e){return e&&Boolean(e)||"Required"}}}},computed:Object(o["a"])(Object(o["a"])({},Object(i["e"])("events",["locations"])),{},{translatedLocations:function(){var e=this;return this.locations.map((function(t){return{name:e.$t("breadcrumbs."+t.name),id:t.id}}))}}),methods:Object(o["a"])(Object(o["a"])({},Object(i["b"])("events",["getLocations"])),{},{fetchLocations:function(){var e=this;this.isLoading=!0,this.getLocations().then((function(){e.isLoading=!1})).catch((function(){e.isLoading=!1}))},changeImage:function(){document.getElementById("update-avatar").click()},buildForm:function(e){for(var t=Object.keys(e),a=new FormData,s=0;s<t.length;s++){var r=t[s];e[r]&&a.set(r,e[r]),"password"==r&&e["password"]&&a.set("confirm_password",e["confirm_password"])}return a},updateProfile:function(){var e=[];this.selectedLocations.forEach((function(t){e.push(t.id)}));var t=e.join(","),a=this.user,s=a.email,r=a.name,o=a.password,l=a.confirm_password,n=a.username,i={email:s,name:r,password:o,confirm_password:l,username:n};this.avatar.length&&(i["avatar"]=this.avatar[0]),e.length&&(i["locations"]=t);var c=this.buildForm(i);this.$emit("createUser",c),document.getElementById("update-avatar").files=null,this.avatar={}}}),mounted:function(){var e=this;document.getElementById("update-avatar").addEventListener("change",(function(t){e.avatar=t.target.files})),this.fetchLocations()}},d=c,u=a("2877"),v=a("6544"),m=a.n(v),b=a("8336"),f=a("b0afa"),p=a("99d9"),g=a("62ad"),h=a("169a"),w=a("adda"),x=a("0fd9"),$=a("b974"),_=a("2fa4"),k=a("8654"),C=Object(u["a"])(d,l,n,!1,null,null,null),V=C.exports;m()(C,{VBtn:b["a"],VCard:f["a"],VCardActions:p["b"],VCardText:p["d"],VCardTitle:p["e"],VCol:g["a"],VDialog:h["a"],VImg:w["a"],VRow:x["a"],VSelect:$["a"],VSpacer:_["a"],VTextField:k["a"]});var y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"my-2"},[a("v-card-title",[e._v(e._s(e.$t("users.UserInformation")))]),a("v-card-text",[a("v-form",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{value:"First and two on el street",label:e.$t("users.AddressLine1")}}),a("v-text-field",{attrs:{value:"",label:e.$t("users.AddressLine2")}}),a("v-text-field",{attrs:{value:"1231",label:e.$t("users.ZipCode")}}),a("v-text-field",{attrs:{value:"Los Angeles",label:e.$t("users.City")}}),a("v-text-field",{attrs:{value:"California",label:e.$t("users.State")}}),a("v-text-field",{attrs:{value:"United States",label:e.$t("users.Country")}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{value:"+8484548112",label:e.$t("users.UserInformation")}}),a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:e.$t("users.Birthdaydate"),readonly:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},"v-text-field",r,!1),s))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{ref:"picker",attrs:{max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},on:{change:e.save},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("v-text-field",{attrs:{value:"https://",label:"Website"}}),a("v-radio-group",{attrs:{label:e.$t("users.Gender")},model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}},[a("v-radio",{attrs:{label:e.$t("users.Male"),value:"male"}}),a("v-radio",{attrs:{label:e.$t("users.Female"),value:"female"}}),a("v-radio",{attrs:{label:e.$t("users.Other"),value:"other"}})],1)],1)],1),a("div",{staticClass:"d-flex"},[a("v-btn",[e._v("Reset")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary"}},[e._v(e._s(e.$t("general.save")))])],1)],1)],1)],1)},D=[],j={data:function(){return{date:"1990-10-09",menu:!1,gender:"male"}},watch:{menu:function(e){var t=this;e&&setTimeout((function(){return t.$refs.picker.activePicker="YEAR"}))}},methods:{save:function(e){this.$refs.menu.save(e)}}},O=j,L=a("2e4b"),T=a("4bd4"),I=a("e449"),U=a("67b6"),B=a("43a6"),E=Object(u["a"])(O,y,D,!1,null,null,null),A=E.exports;m()(E,{VBtn:b["a"],VCard:f["a"],VCardText:p["d"],VCardTitle:p["e"],VCol:g["a"],VDatePicker:L["a"],VForm:T["a"],VMenu:I["a"],VRadio:U["a"],VRadioGroup:B["a"],VRow:x["a"],VSpacer:_["a"],VTextField:k["a"]});var P=a("d7c2"),S={components:{AccountTab:V,InformationTab:A},data:function(){return{user:{id:"",email:"",name:"",password:"",confirm_password:"",avatar:"/images/avatars/avatar1.svg"},tab:null,errors:{},loading:!1,breadcrumbs:[{text:this.$t("menu.usersManagement"),disabled:!1,href:"#"},{text:this.$t("users.usersList"),to:"/users/list",exact:!0},{text:this.$t("users.createUser")}]}},created:function(){this.setBreadCrumb({breadcrumbs:this.breadcrumbs,pageTitle:this.$t("users.createNewUser")})},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(i["b"])("users",["storeUser"])),Object(i["b"])("app",["setBreadCrumb"])),{},{createUser:function(e){var t=this;this.loading=!0,this.errors={},this.storeUser(e).then((function(e){t.loading=!1,Object(P["b"])("success",e.data.message),t.$router.push({name:"users-list"})})).catch((function(e){if(t.loading=!1,422==e.response.status){var a,s,r=null!==(a=null===e||void 0===e||null===(s=e.response)||void 0===s?void 0:s.data)&&void 0!==a?a:{},o=r.errors;t.errors=null!==o&&void 0!==o?o:{}}}))}})},F=S,R=a("71a3"),q=a("c671"),M=a("fe57"),G=a("aac8"),J=Object(u["a"])(F,s,r,!1,null,null,null);t["default"]=J.exports;m()(J,{VTab:R["a"],VTabItem:q["a"],VTabs:M["a"],VTabsItems:G["a"]})}}]);