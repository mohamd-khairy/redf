(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["pipes-list"], { "04b9": function (t, e, a) { "use strict"; var n = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-row", { staticClass: "flex-grow-0 mb-1", attrs: { dense: "" } }, t._l(t.cardNumber, (function (e) { return a("v-col", { key: e, attrs: { cols: "12", lg: t.cardSizes.lg, md: t.cardSizes.md } }, [a("v-card", [a("v-skeleton-loader", { attrs: { "min-height": 115, type: "card-heading, list-item" } })], 1)], 1) })), 1) }, i = [], s = (a("a9e3"), { props: { cardPerRow: { type: Number, default: 0 }, cardNumber: { type: Number, default: 0 } }, data: function () { return {} }, computed: { cardSizes: function () { if (this.cardPerRow % 2 === 0) { var t = 12 / this.cardPerRow; return { lg: t, md: t / 2 } } var e = 12 / (this.cardPerRow - 1); return { lg: e, md: e / 2 } } } }), r = s, o = a("2877"), l = a("6544"), c = a.n(l), u = a("b0afa"), d = a("62ad"), h = a("0fd9"), f = a("3129"), v = Object(o["a"])(r, n, i, !1, null, null, null); e["a"] = v.exports; c()(v, { VCard: u["a"], VCol: d["a"], VRow: h["a"], VSkeletonLoader: f["a"] }) }, "0a8d": function (t, e) { t.exports = { functional: !0, render(t, e) { const { _c: a, _v: n, data: i, children: s = [] } = e, { class: r, staticClass: o, style: l, staticStyle: c, attrs: u = {}, ...d } = i; return a("svg", { class: [r, o], style: [l, c], attrs: Object.assign({ width: "800", height: "800", viewBox: "0 0 24 24", xmlns: "http://www.w3.org/2000/svg" }, u), ...d }, s.concat([a("path", { attrs: { fill: "currentColor", d: "M18.15 4.94A2.09 2.09 0 0017 5.2l-8.65 5a2 2 0 00-.73 2.74l1.5 2.59a2 2 0 002.73.74l1.8-1a2.49 2.49 0 001.16 1V18a2 2 0 002 2H22v-2h-5.19v-1.73A2.49 2.49 0 0018 12.73l2.53-1.46a2 2 0 00.74-2.74l-1.5-2.59a2 2 0 00-1.59-1M6.22 13.17l-4.22.7.75 1.3 2 3.46.75 1.3 2.72-3.3z" } }), a("path", { attrs: { fill: "none", d: "M0 0h24v24H0z" } })])) } } }, "0d3b": function (t, e, a) { var n = a("d039"), i = a("b622"), s = a("c430"), r = i("iterator"); t.exports = !n((function () { var t = new URL("b?a=1&b=2&c=3", "http://a"), e = t.searchParams, a = ""; return t.pathname = "c%20d", e.forEach((function (t, n) { e["delete"]("b"), a += n + t })), s && !t.toJSON || !e.sort || "http://a/c%20d?a=1&c=3" !== t.href || "3" !== e.get("c") || "a=1" !== String(new URLSearchParams("?a=1")) || !e[r] || "a" !== new URL("https://a@b").username || "b" !== new URLSearchParams(new URLSearchParams("a=b")).get("a") || "xn--e1aybc" !== new URL("http://тест").host || "#%D0%B1" !== new URL("http://a#б").hash || "a1c3" !== a || "x" !== new URL("http://x", void 0).host })) }, 1681: function (t, e, a) { }, "169a": function (t, e, a) { "use strict"; a("7db0"), a("caad"), a("45fc"), a("a9e3"), a("2532"), a("498a"); var n = a("5530"), i = a("2909"), s = a("ade3"), r = (a("368e"), a("480e")), o = a("4ad4"), l = a("b848"), c = a("75eb"), u = a("e707"), d = a("e4d3"), h = a("21be"), f = a("f2e7"), v = a("a293"), p = a("58df"), m = a("d9bd"), g = a("80d2"), b = Object(p["a"])(o["a"], l["a"], c["a"], u["a"], d["a"], h["a"], f["a"]); e["a"] = b.extend({ name: "v-dialog", directives: { ClickOutside: v["b"] }, props: { dark: Boolean, disabled: Boolean, fullscreen: Boolean, light: Boolean, maxWidth: { type: [String, Number], default: "none" }, noClickAnimation: Boolean, origin: { type: String, default: "center center" }, persistent: Boolean, retainFocus: { type: Boolean, default: !0 }, scrollable: Boolean, transition: { type: [String, Boolean], default: "dialog-transition" }, width: { type: [String, Number], default: "auto" } }, data: function () { return { activatedBy: null, animate: !1, animateTimeout: -1, isActive: !!this.value, stackMinZIndex: 200, previousActiveElement: null } }, computed: { classes: function () { var t; return t = {}, Object(s["a"])(t, "v-dialog ".concat(this.contentClass).trim(), !0), Object(s["a"])(t, "v-dialog--active", this.isActive), Object(s["a"])(t, "v-dialog--persistent", this.persistent), Object(s["a"])(t, "v-dialog--fullscreen", this.fullscreen), Object(s["a"])(t, "v-dialog--scrollable", this.scrollable), Object(s["a"])(t, "v-dialog--animated", this.animate), t }, contentClasses: function () { return { "v-dialog__content": !0, "v-dialog__content--active": this.isActive } }, hasActivator: function () { return Boolean(!!this.$slots.activator || !!this.$scopedSlots.activator) } }, watch: { isActive: function (t) { var e; t ? (this.show(), this.hideScroll()) : (this.removeOverlay(), this.unbind(), null == (e = this.previousActiveElement) || e.focus()) }, fullscreen: function (t) { this.isActive && (t ? (this.hideScroll(), this.removeOverlay(!1)) : (this.showScroll(), this.genOverlay())) } }, created: function () { this.$attrs.hasOwnProperty("full-width") && Object(m["e"])("full-width", this) }, beforeMount: function () { var t = this; this.$nextTick((function () { t.isBooted = t.isActive, t.isActive && t.show() })) }, beforeDestroy: function () { "undefined" !== typeof window && this.unbind() }, methods: { animateClick: function () { var t = this; this.animate = !1, this.$nextTick((function () { t.animate = !0, window.clearTimeout(t.animateTimeout), t.animateTimeout = window.setTimeout((function () { return t.animate = !1 }), 150) })) }, closeConditional: function (t) { var e = t.target; return !(this._isDestroyed || !this.isActive || this.$refs.content.contains(e) || this.overlay && e && !this.overlay.$el.contains(e)) && this.activeZIndex >= this.getMaxZIndex() }, hideScroll: function () { this.fullscreen ? document.documentElement.classList.add("overflow-y-hidden") : u["a"].options.methods.hideScroll.call(this) }, show: function () { var t = this; !this.fullscreen && !this.hideOverlay && this.genOverlay(), this.$nextTick((function () { t.$nextTick((function () { t.previousActiveElement = document.activeElement, t.$refs.content.focus(), t.bind() })) })) }, bind: function () { window.addEventListener("focusin", this.onFocusin) }, unbind: function () { window.removeEventListener("focusin", this.onFocusin) }, onClickOutside: function (t) { this.$emit("click:outside", t), this.persistent ? this.noClickAnimation || this.animateClick() : this.isActive = !1 }, onKeydown: function (t) { if (t.keyCode === g["A"].esc && !this.getOpenDependents().length) if (this.persistent) this.noClickAnimation || this.animateClick(); else { this.isActive = !1; var e = this.getActivator(); this.$nextTick((function () { return e && e.focus() })) } this.$emit("keydown", t) }, onFocusin: function (t) { if (t && this.retainFocus) { var e = t.target; if (e && ![document, this.$refs.content].includes(e) && !this.$refs.content.contains(e) && this.activeZIndex >= this.getMaxZIndex() && !this.getOpenDependentElements().some((function (t) { return t.contains(e) }))) { var a = this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'), n = Object(i["a"])(a).find((function (t) { return !t.hasAttribute("disabled") })); n && n.focus() } } }, genContent: function () { var t = this; return this.showLazyContent((function () { return [t.$createElement(r["a"], { props: { root: !0, light: t.light, dark: t.dark } }, [t.$createElement("div", { class: t.contentClasses, attrs: Object(n["a"])({ role: "document", tabindex: t.isActive ? 0 : void 0 }, t.getScopeIdAttrs()), on: { keydown: t.onKeydown }, style: { zIndex: t.activeZIndex }, ref: "content" }, [t.genTransition()])])] })) }, genTransition: function () { var t = this.genInnerContent(); return this.transition ? this.$createElement("transition", { props: { name: this.transition, origin: this.origin, appear: !0 } }, [t]) : t }, genInnerContent: function () { var t = { class: this.classes, ref: "dialog", directives: [{ name: "click-outside", value: { handler: this.onClickOutside, closeConditional: this.closeConditional, include: this.getOpenDependentElements } }, { name: "show", value: this.isActive }], style: { transformOrigin: this.origin } }; return this.fullscreen || (t.style = Object(n["a"])(Object(n["a"])({}, t.style), {}, { maxWidth: "none" === this.maxWidth ? void 0 : Object(g["h"])(this.maxWidth), width: "auto" === this.width ? void 0 : Object(g["h"])(this.width) })), this.$createElement("div", t, this.getContentSlot()) } }, render: function (t) { return t("div", { staticClass: "v-dialog__container", class: { "v-dialog__container--attached": "" === this.attach || !0 === this.attach || "attach" === this.attach }, attrs: { role: "dialog" } }, [this.genActivator(), this.genContent()]) } }) }, "18d9": function (t, e, a) { "use strict"; a.r(e); var n = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("div", { staticClass: "d-flex flex-column flex-grow-1" }, [a("v-row", [a("v-col", { attrs: { cols: "12" } }, [a("v-card", { staticClass: "live-stream_card" }, [a("v-card-text", [a("div", { staticClass: "img-wrapper" }, [a("img", { attrs: { src: t.image, alt: "" } }), t.currentDrone ? t._e() : a("div", { staticClass: "no-selected-drone" }, [a("h1", [t._v(" Select drone to watch live stream ")])]), t.currentDrone ? a("v-btn", { staticClass: "fullscreen-btn", attrs: { icon: "" }, on: { click: t.toggleFullScreen } }, [a("v-icon", [t._v(" mdi-fullscreen ")])], 1) : t._e()], 1)]), a("v-card-actions", [a("div", { staticClass: "cameras-cont" }, t._l(t.drones, (function (e) { return a("div", { key: e.id, staticClass: "cam", class: ["active" === e.status ? "live" : "", e.id === t.currentDrone ? "selected" : ""], attrs: { id: "drone-" + e.id }, on: { click: function (a) { return t.selectDrone(e.id) } } }, [a("div", { staticClass: "icon" }, [a("cameraSvg")], 1), a("div", { staticClass: "cam-info" }, [a("div", { staticClass: "cam-name subtitle-2" }, [t._v(" " + t._s(e.name) + " ")]), a("div", { staticClass: "flight-info caption" }, [t._v(" " + t._s(e.number) + " ")])])]) })), 0)])], 1)], 1)], 1)], 1) }, i = [], s = a("5530"), r = a("2f62"), o = a("0a8d"), l = a.n(o), c = { sockets: { connect: function () { console.log("socket connected") }, itemAdded: function (t) { var e = this.$route.params.id; console.log("aaaaa"), console.log(t); var a = t.image, n = t.status, i = t.drone_id, s = t.location_id; if (+e === s) { this.currentDrone === i && (this.image = a); var r = document.querySelector("#drone-".concat(i)); 1 === n ? r.classList.add("live") : r.classList.remove("live") } } }, components: { cameraSvg: l.a }, data: function () { return { isLoading: !1, isFullscreen: !1, drones: [], currentDrone: void 0, image: "", breadcrumbs: [{ text: this.$t("menu.live_stream"), disabled: !1, href: "#" }, { text: this.$t("menu.selectLocation"), disabled: !1, href: "/models" }, { text: "" }], location: "" } }, computed: Object(s["a"])(Object(s["a"])({}, Object(r["e"])("events", ["locations"])), Object(r["e"])("app", ["isRTL", "notifications"])), created: function () { this.$route.params.id; this.setBreadCrumb({ breadcrumbs: this.breadcrumbs, pageTitle: this.$t("menu.pipesModel") }), this.getdrones() }, mounted: function () { document.querySelector(".img-wrapper img").addEventListener("fullscreenchange", (function () { document.fullscreenElement ? console.log("entered Full screen") : (console.log("out"), this.isFullscreen = !this.isFullscreen, this.classList.remove("object-cover")) })) }, watch: { isFullscreen: function (t) { } }, methods: Object(s["a"])(Object(s["a"])(Object(s["a"])({}, Object(r["b"])("events", ["getLocations"])), Object(r["b"])("app", ["setBreadCrumb"])), {}, { open: function () { this.isLoading = !0; this.$route.params.id }, selectDrone: function (t) { this.currentDrone = t }, getdrones: function () { var t = this; this.isLoading = !0; var e = this.$route.params.id; this.$axios.get("get-drones/".concat(e)).then((function (e) { var a, n; t.drones = null !== (a = null === e || void 0 === e || null === (n = e.data) || void 0 === n ? void 0 : n.data) && void 0 !== a ? a : [], t.isLoading = !1 })).catch((function () { t.isLoading = !1 })) }, toggleFullScreen: function () { this.isFullscreen = !0; var t = document.querySelector(".img-wrapper img"); this.isFullscreen ? (t.requestFullscreen ? t.requestFullscreen() : t.mozRequestFullScreen ? t.mozRequestFullScreen() : t.webkitRequestFullscreen ? t.webkitRequestFullscreen() : t.msRequestFullscreen && t.msRequestFullscreen(), t.classList.add("object-cover")) : document.exitFullscreen ? document.exitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.webkitExitFullscreen ? document.webkitExitFullscreen() : document.msExitFullscreen && document.msExitFullscreen() } }) }, u = c, d = (a("c74c"), a("2877")), h = a("6544"), f = a.n(h), v = a("8336"), p = a("b0afa"), m = a("99d9"), g = a("62ad"), b = a("132d"), y = a("0fd9"), x = Object(d["a"])(u, n, i, !1, null, "9aebfa80", null); e["default"] = x.exports; f()(x, { VBtn: v["a"], VCard: p["a"], VCardActions: m["b"], VCardText: m["d"], VCol: g["a"], VIcon: b["a"], VRow: y["a"] }) }, "1f09": function (t, e, a) { }, "23a7": function (t, e, a) { "use strict"; a("99af"), a("a623"), a("4160"), a("caad"), a("d81d"), a("13d5"), a("fb6a"), a("a434"), a("b0c0"), a("a9e3"), a("159b"); var n = a("2909"), i = a("5530"), s = a("53ca"), r = (a("5803"), a("2677")), o = a("cc20"), l = a("80d2"), c = a("d9bd"), u = a("d9f7"); e["a"] = r["b"].extend({ name: "v-file-input", model: { prop: "value", event: "change" }, props: { chips: Boolean, clearable: { type: Boolean, default: !0 }, counterSizeString: { type: String, default: "$vuetify.fileInput.counterSize" }, counterString: { type: String, default: "$vuetify.fileInput.counter" }, hideInput: Boolean, placeholder: String, prependIcon: { type: String, default: "$file" }, readonly: { type: Boolean, default: !1 }, showSize: { type: [Boolean, Number], default: !1, validator: function (t) { return "boolean" === typeof t || [1e3, 1024].includes(t) } }, smallChips: Boolean, truncateLength: { type: [Number, String], default: 22 }, type: { type: String, default: "file" }, value: { default: void 0, validator: function (t) { return Object(l["K"])(t).every((function (t) { return null != t && "object" === Object(s["a"])(t) })) } } }, computed: { classes: function () { return Object(i["a"])(Object(i["a"])({}, r["b"].options.computed.classes.call(this)), {}, { "v-file-input": !0 }) }, computedCounterValue: function () { var t = this.isMultiple && this.lazyValue ? this.lazyValue.length : this.lazyValue instanceof File ? 1 : 0; if (!this.showSize) return this.$vuetify.lang.t(this.counterString, t); var e = this.internalArrayValue.reduce((function (t, e) { var a = e.size, n = void 0 === a ? 0 : a; return t + n }), 0); return this.$vuetify.lang.t(this.counterSizeString, t, Object(l["y"])(e, 1024 === this.base)) }, internalArrayValue: function () { return Object(l["K"])(this.internalValue) }, internalValue: { get: function () { return this.lazyValue }, set: function (t) { this.lazyValue = t, this.$emit("change", this.lazyValue) } }, isDirty: function () { return this.internalArrayValue.length > 0 }, isLabelActive: function () { return this.isDirty }, isMultiple: function () { return this.$attrs.hasOwnProperty("multiple") }, text: function () { var t = this; return this.isDirty ? this.internalArrayValue.map((function (e) { var a = e.name, n = void 0 === a ? "" : a, i = e.size, s = void 0 === i ? 0 : i, r = t.truncateText(n); return t.showSize ? "".concat(r, " (").concat(Object(l["y"])(s, 1024 === t.base), ")") : r })) : [this.placeholder] }, base: function () { return "boolean" !== typeof this.showSize ? this.showSize : void 0 }, hasChips: function () { return this.chips || this.smallChips } }, watch: { readonly: { handler: function (t) { !0 === t && Object(c["b"])("readonly is not supported on <v-file-input>", this) }, immediate: !0 }, value: function (t) { var e = this.isMultiple ? t : t ? [t] : []; Object(l["l"])(e, this.$refs.input.files) || (this.$refs.input.value = "") } }, methods: { clearableCallback: function () { this.internalValue = this.isMultiple ? [] : null, this.$refs.input.value = "" }, genChips: function () { var t = this; return this.isDirty ? this.text.map((function (e, a) { return t.$createElement(o["a"], { props: { small: t.smallChips }, on: { "click:close": function () { var e = t.internalValue; e.splice(a, 1), t.internalValue = e } } }, [e]) })) : [] }, genControl: function () { var t = r["b"].options.methods.genControl.call(this); return this.hideInput && (t.data.style = Object(u["d"])(t.data.style, { display: "none" })), t }, genInput: function () { var t = r["b"].options.methods.genInput.call(this); return delete t.data.domProps.value, delete t.data.on.input, t.data.on.change = this.onInput, [this.genSelections(), t] }, genPrependSlot: function () { var t = this; if (!this.prependIcon) return null; var e = this.genIcon("prepend", (function () { t.$refs.input.click() })); return this.genSlot("prepend", "outer", [e]) }, genSelectionText: function () { var t = this.text.length; return t < 2 ? this.text : this.showSize && !this.counter ? [this.computedCounterValue] : [this.$vuetify.lang.t(this.counterString, t)] }, genSelections: function () { var t = this, e = []; return this.isDirty && this.$scopedSlots.selection ? this.internalArrayValue.forEach((function (a, n) { t.$scopedSlots.selection && e.push(t.$scopedSlots.selection({ text: t.text[n], file: a, index: n })) })) : e.push(this.hasChips && this.isDirty ? this.genChips() : this.genSelectionText()), this.$createElement("div", { staticClass: "v-file-input__text", class: { "v-file-input__text--placeholder": this.placeholder && !this.isDirty, "v-file-input__text--chips": this.hasChips && !this.$scopedSlots.selection } }, e) }, genTextFieldSlot: function () { var t = this, e = r["b"].options.methods.genTextFieldSlot.call(this); return e.data.on = Object(i["a"])(Object(i["a"])({}, e.data.on || {}), {}, { click: function () { return t.$refs.input.click() } }), e }, onInput: function (t) { var e = Object(n["a"])(t.target.files || []); this.internalValue = this.isMultiple ? e : e[0], this.initialValue = this.internalValue }, onKeyDown: function (t) { this.$emit("keydown", t) }, truncateText: function (t) { if (t.length < Number(this.truncateLength)) return t; var e = Math.floor((Number(this.truncateLength) - 1) / 2); return "".concat(t.slice(0, e), "…").concat(t.slice(t.length - e)) } } }) }, 2677: function (t, e, a) { "use strict"; var n = a("8654"); a.d(e, "a", (function () { return n["a"] })), e["b"] = n["a"] }, "2b3d": function (t, e, a) { "use strict"; a("3ca3"); var n, i = a("23e7"), s = a("83ab"), r = a("0d3b"), o = a("da84"), l = a("37e8"), c = a("6eeb"), u = a("19aa"), d = a("5135"), h = a("60da"), f = a("4df4"), v = a("6547").codeAt, p = a("5fb2"), m = a("d44e"), g = a("9861"), b = a("69f3"), y = o.URL, x = g.URLSearchParams, w = g.getState, C = b.set, _ = b.getterFor("URL"), k = Math.floor, S = Math.pow, $ = "Invalid authority", O = "Invalid scheme", L = "Invalid host", j = "Invalid port", D = /[A-Za-z]/, E = /[\d+-.A-Za-z]/, V = /\d/, A = /^(0x|0X)/, I = /^[0-7]+$/, B = /^\d+$/, R = /^[\dA-Fa-f]+$/, T = /[\u0000\u0009\u000A\u000D #%/:?@[\\]]/, M = /[\u0000\u0009\u000A\u000D #/:?@[\\]]/, F = /^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g, P = /[\u0009\u000A\u000D]/g, U = function (t, e) { var a, n, i; if ("[" == e.charAt(0)) { if ("]" != e.charAt(e.length - 1)) return L; if (a = q(e.slice(1, -1)), !a) return L; t.host = a } else if (J(t)) { if (e = p(e), T.test(e)) return L; if (a = N(e), null === a) return L; t.host = a } else { if (M.test(e)) return L; for (a = "", n = f(e), i = 0; i < n.length; i++)a += G(n[i], Y); t.host = a } }, N = function (t) { var e, a, n, i, s, r, o, l = t.split("."); if (l.length && "" == l[l.length - 1] && l.pop(), e = l.length, e > 4) return t; for (a = [], n = 0; n < e; n++) { if (i = l[n], "" == i) return t; if (s = 10, i.length > 1 && "0" == i.charAt(0) && (s = A.test(i) ? 16 : 8, i = i.slice(8 == s ? 1 : 2)), "" === i) r = 0; else { if (!(10 == s ? B : 8 == s ? I : R).test(i)) return t; r = parseInt(i, s) } a.push(r) } for (n = 0; n < e; n++)if (r = a[n], n == e - 1) { if (r >= S(256, 5 - e)) return null } else if (r > 255) return null; for (o = a.pop(), n = 0; n < a.length; n++)o += a[n] * S(256, 3 - n); return o }, q = function (t) { var e, a, n, i, s, r, o, l = [0, 0, 0, 0, 0, 0, 0, 0], c = 0, u = null, d = 0, h = function () { return t.charAt(d) }; if (":" == h()) { if (":" != t.charAt(1)) return; d += 2, c++, u = c } while (h()) { if (8 == c) return; if (":" != h()) { e = a = 0; while (a < 4 && R.test(h())) e = 16 * e + parseInt(h(), 16), d++, a++; if ("." == h()) { if (0 == a) return; if (d -= a, c > 6) return; n = 0; while (h()) { if (i = null, n > 0) { if (!("." == h() && n < 4)) return; d++ } if (!V.test(h())) return; while (V.test(h())) { if (s = parseInt(h(), 10), null === i) i = s; else { if (0 == i) return; i = 10 * i + s } if (i > 255) return; d++ } l[c] = 256 * l[c] + i, n++, 2 != n && 4 != n || c++ } if (4 != n) return; break } if (":" == h()) { if (d++, !h()) return } else if (h()) return; l[c++] = e } else { if (null !== u) return; d++, c++, u = c } } if (null !== u) { r = c - u, c = 7; while (0 != c && r > 0) o = l[c], l[c--] = l[u + r - 1], l[u + --r] = o } else if (8 != c) return; return l }, z = function (t) { for (var e = null, a = 1, n = null, i = 0, s = 0; s < 8; s++)0 !== t[s] ? (i > a && (e = n, a = i), n = null, i = 0) : (null === n && (n = s), ++i); return i > a && (e = n, a = i), e }, H = function (t) { var e, a, n, i; if ("number" == typeof t) { for (e = [], a = 0; a < 4; a++)e.unshift(t % 256), t = k(t / 256); return e.join(".") } if ("object" == typeof t) { for (e = "", n = z(t), a = 0; a < 8; a++)i && 0 === t[a] || (i && (i = !1), n === a ? (e += a ? ":" : "::", i = !0) : (e += t[a].toString(16), a < 7 && (e += ":"))); return "[" + e + "]" } return t }, Y = {}, W = h({}, Y, { " ": 1, '"': 1, "<": 1, ">": 1, "`": 1 }), Q = h({}, W, { "#": 1, "?": 1, "{": 1, "}": 1 }), K = h({}, Q, { "/": 1, ":": 1, ";": 1, "=": 1, "@": 1, "[": 1, "\\": 1, "]": 1, "^": 1, "|": 1 }), G = function (t, e) { var a = v(t, 0); return a > 32 && a < 127 && !d(e, t) ? t : encodeURIComponent(t) }, Z = { ftp: 21, file: null, http: 80, https: 443, ws: 80, wss: 443 }, J = function (t) { return d(Z, t.scheme) }, X = function (t) { return "" != t.username || "" != t.password }, tt = function (t) { return !t.host || t.cannotBeABaseURL || "file" == t.scheme }, et = function (t, e) { var a; return 2 == t.length && D.test(t.charAt(0)) && (":" == (a = t.charAt(1)) || !e && "|" == a) }, at = function (t) { var e; return t.length > 1 && et(t.slice(0, 2)) && (2 == t.length || "/" === (e = t.charAt(2)) || "\\" === e || "?" === e || "#" === e) }, nt = function (t) { var e = t.path, a = e.length; !a || "file" == t.scheme && 1 == a && et(e[0], !0) || e.pop() }, it = function (t) { return "." === t || "%2e" === t.toLowerCase() }, st = function (t) { return t = t.toLowerCase(), ".." === t || "%2e." === t || ".%2e" === t || "%2e%2e" === t }, rt = {}, ot = {}, lt = {}, ct = {}, ut = {}, dt = {}, ht = {}, ft = {}, vt = {}, pt = {}, mt = {}, gt = {}, bt = {}, yt = {}, xt = {}, wt = {}, Ct = {}, _t = {}, kt = {}, St = {}, $t = {}, Ot = function (t, e, a, i) { var s, r, o, l, c = a || rt, u = 0, h = "", v = !1, p = !1, m = !1; a || (t.scheme = "", t.username = "", t.password = "", t.host = null, t.port = null, t.path = [], t.query = null, t.fragment = null, t.cannotBeABaseURL = !1, e = e.replace(F, "")), e = e.replace(P, ""), s = f(e); while (u <= s.length) { switch (r = s[u], c) { case rt: if (!r || !D.test(r)) { if (a) return O; c = lt; continue } h += r.toLowerCase(), c = ot; break; case ot: if (r && (E.test(r) || "+" == r || "-" == r || "." == r)) h += r.toLowerCase(); else { if (":" != r) { if (a) return O; h = "", c = lt, u = 0; continue } if (a && (J(t) != d(Z, h) || "file" == h && (X(t) || null !== t.port) || "file" == t.scheme && !t.host)) return; if (t.scheme = h, a) return void (J(t) && Z[t.scheme] == t.port && (t.port = null)); h = "", "file" == t.scheme ? c = yt : J(t) && i && i.scheme == t.scheme ? c = ct : J(t) ? c = ft : "/" == s[u + 1] ? (c = ut, u++) : (t.cannotBeABaseURL = !0, t.path.push(""), c = kt) } break; case lt: if (!i || i.cannotBeABaseURL && "#" != r) return O; if (i.cannotBeABaseURL && "#" == r) { t.scheme = i.scheme, t.path = i.path.slice(), t.query = i.query, t.fragment = "", t.cannotBeABaseURL = !0, c = $t; break } c = "file" == i.scheme ? yt : dt; continue; case ct: if ("/" != r || "/" != s[u + 1]) { c = dt; continue } c = vt, u++; break; case ut: if ("/" == r) { c = pt; break } c = _t; continue; case dt: if (t.scheme = i.scheme, r == n) t.username = i.username, t.password = i.password, t.host = i.host, t.port = i.port, t.path = i.path.slice(), t.query = i.query; else if ("/" == r || "\\" == r && J(t)) c = ht; else if ("?" == r) t.username = i.username, t.password = i.password, t.host = i.host, t.port = i.port, t.path = i.path.slice(), t.query = "", c = St; else { if ("#" != r) { t.username = i.username, t.password = i.password, t.host = i.host, t.port = i.port, t.path = i.path.slice(), t.path.pop(), c = _t; continue } t.username = i.username, t.password = i.password, t.host = i.host, t.port = i.port, t.path = i.path.slice(), t.query = i.query, t.fragment = "", c = $t } break; case ht: if (!J(t) || "/" != r && "\\" != r) { if ("/" != r) { t.username = i.username, t.password = i.password, t.host = i.host, t.port = i.port, c = _t; continue } c = pt } else c = vt; break; case ft: if (c = vt, "/" != r || "/" != h.charAt(u + 1)) continue; u++; break; case vt: if ("/" != r && "\\" != r) { c = pt; continue } break; case pt: if ("@" == r) { v && (h = "%40" + h), v = !0, o = f(h); for (var g = 0; g < o.length; g++) { var b = o[g]; if (":" != b || m) { var y = G(b, K); m ? t.password += y : t.username += y } else m = !0 } h = "" } else if (r == n || "/" == r || "?" == r || "#" == r || "\\" == r && J(t)) { if (v && "" == h) return $; u -= f(h).length + 1, h = "", c = mt } else h += r; break; case mt: case gt: if (a && "file" == t.scheme) { c = wt; continue } if (":" != r || p) { if (r == n || "/" == r || "?" == r || "#" == r || "\\" == r && J(t)) { if (J(t) && "" == h) return L; if (a && "" == h && (X(t) || null !== t.port)) return; if (l = U(t, h), l) return l; if (h = "", c = Ct, a) return; continue } "[" == r ? p = !0 : "]" == r && (p = !1), h += r } else { if ("" == h) return L; if (l = U(t, h), l) return l; if (h = "", c = bt, a == gt) return } break; case bt: if (!V.test(r)) { if (r == n || "/" == r || "?" == r || "#" == r || "\\" == r && J(t) || a) { if ("" != h) { var x = parseInt(h, 10); if (x > 65535) return j; t.port = J(t) && x === Z[t.scheme] ? null : x, h = "" } if (a) return; c = Ct; continue } return j } h += r; break; case yt: if (t.scheme = "file", "/" == r || "\\" == r) c = xt; else { if (!i || "file" != i.scheme) { c = _t; continue } if (r == n) t.host = i.host, t.path = i.path.slice(), t.query = i.query; else if ("?" == r) t.host = i.host, t.path = i.path.slice(), t.query = "", c = St; else { if ("#" != r) { at(s.slice(u).join("")) || (t.host = i.host, t.path = i.path.slice(), nt(t)), c = _t; continue } t.host = i.host, t.path = i.path.slice(), t.query = i.query, t.fragment = "", c = $t } } break; case xt: if ("/" == r || "\\" == r) { c = wt; break } i && "file" == i.scheme && !at(s.slice(u).join("")) && (et(i.path[0], !0) ? t.path.push(i.path[0]) : t.host = i.host), c = _t; continue; case wt: if (r == n || "/" == r || "\\" == r || "?" == r || "#" == r) { if (!a && et(h)) c = _t; else if ("" == h) { if (t.host = "", a) return; c = Ct } else { if (l = U(t, h), l) return l; if ("localhost" == t.host && (t.host = ""), a) return; h = "", c = Ct } continue } h += r; break; case Ct: if (J(t)) { if (c = _t, "/" != r && "\\" != r) continue } else if (a || "?" != r) if (a || "#" != r) { if (r != n && (c = _t, "/" != r)) continue } else t.fragment = "", c = $t; else t.query = "", c = St; break; case _t: if (r == n || "/" == r || "\\" == r && J(t) || !a && ("?" == r || "#" == r)) { if (st(h) ? (nt(t), "/" == r || "\\" == r && J(t) || t.path.push("")) : it(h) ? "/" == r || "\\" == r && J(t) || t.path.push("") : ("file" == t.scheme && !t.path.length && et(h) && (t.host && (t.host = ""), h = h.charAt(0) + ":"), t.path.push(h)), h = "", "file" == t.scheme && (r == n || "?" == r || "#" == r)) while (t.path.length > 1 && "" === t.path[0]) t.path.shift(); "?" == r ? (t.query = "", c = St) : "#" == r && (t.fragment = "", c = $t) } else h += G(r, Q); break; case kt: "?" == r ? (t.query = "", c = St) : "#" == r ? (t.fragment = "", c = $t) : r != n && (t.path[0] += G(r, Y)); break; case St: a || "#" != r ? r != n && ("'" == r && J(t) ? t.query += "%27" : t.query += "#" == r ? "%23" : G(r, Y)) : (t.fragment = "", c = $t); break; case $t: r != n && (t.fragment += G(r, W)); break }u++ } }, Lt = function (t) { var e, a, n = u(this, Lt, "URL"), i = arguments.length > 1 ? arguments[1] : void 0, r = String(t), o = C(n, { type: "URL" }); if (void 0 !== i) if (i instanceof Lt) e = _(i); else if (a = Ot(e = {}, String(i)), a) throw TypeError(a); if (a = Ot(o, r, null, e), a) throw TypeError(a); var l = o.searchParams = new x, c = w(l); c.updateSearchParams(o.query), c.updateURL = function () { o.query = String(l) || null }, s || (n.href = Dt.call(n), n.origin = Et.call(n), n.protocol = Vt.call(n), n.username = At.call(n), n.password = It.call(n), n.host = Bt.call(n), n.hostname = Rt.call(n), n.port = Tt.call(n), n.pathname = Mt.call(n), n.search = Ft.call(n), n.searchParams = Pt.call(n), n.hash = Ut.call(n)) }, jt = Lt.prototype, Dt = function () { var t = _(this), e = t.scheme, a = t.username, n = t.password, i = t.host, s = t.port, r = t.path, o = t.query, l = t.fragment, c = e + ":"; return null !== i ? (c += "//", X(t) && (c += a + (n ? ":" + n : "") + "@"), c += H(i), null !== s && (c += ":" + s)) : "file" == e && (c += "//"), c += t.cannotBeABaseURL ? r[0] : r.length ? "/" + r.join("/") : "", null !== o && (c += "?" + o), null !== l && (c += "#" + l), c }, Et = function () { var t = _(this), e = t.scheme, a = t.port; if ("blob" == e) try { return new URL(e.path[0]).origin } catch (n) { return "null" } return "file" != e && J(t) ? e + "://" + H(t.host) + (null !== a ? ":" + a : "") : "null" }, Vt = function () { return _(this).scheme + ":" }, At = function () { return _(this).username }, It = function () { return _(this).password }, Bt = function () { var t = _(this), e = t.host, a = t.port; return null === e ? "" : null === a ? H(e) : H(e) + ":" + a }, Rt = function () { var t = _(this).host; return null === t ? "" : H(t) }, Tt = function () { var t = _(this).port; return null === t ? "" : String(t) }, Mt = function () { var t = _(this), e = t.path; return t.cannotBeABaseURL ? e[0] : e.length ? "/" + e.join("/") : "" }, Ft = function () { var t = _(this).query; return t ? "?" + t : "" }, Pt = function () { return _(this).searchParams }, Ut = function () { var t = _(this).fragment; return t ? "#" + t : "" }, Nt = function (t, e) { return { get: t, set: e, configurable: !0, enumerable: !0 } }; if (s && l(jt, { href: Nt(Dt, (function (t) { var e = _(this), a = String(t), n = Ot(e, a); if (n) throw TypeError(n); w(e.searchParams).updateSearchParams(e.query) })), origin: Nt(Et), protocol: Nt(Vt, (function (t) { var e = _(this); Ot(e, String(t) + ":", rt) })), username: Nt(At, (function (t) { var e = _(this), a = f(String(t)); if (!tt(e)) { e.username = ""; for (var n = 0; n < a.length; n++)e.username += G(a[n], K) } })), password: Nt(It, (function (t) { var e = _(this), a = f(String(t)); if (!tt(e)) { e.password = ""; for (var n = 0; n < a.length; n++)e.password += G(a[n], K) } })), host: Nt(Bt, (function (t) { var e = _(this); e.cannotBeABaseURL || Ot(e, String(t), mt) })), hostname: Nt(Rt, (function (t) { var e = _(this); e.cannotBeABaseURL || Ot(e, String(t), gt) })), port: Nt(Tt, (function (t) { var e = _(this); tt(e) || (t = String(t), "" == t ? e.port = null : Ot(e, t, bt)) })), pathname: Nt(Mt, (function (t) { var e = _(this); e.cannotBeABaseURL || (e.path = [], Ot(e, t + "", Ct)) })), search: Nt(Ft, (function (t) { var e = _(this); t = String(t), "" == t ? e.query = null : ("?" == t.charAt(0) && (t = t.slice(1)), e.query = "", Ot(e, t, St)), w(e.searchParams).updateSearchParams(e.query) })), searchParams: Nt(Pt), hash: Nt(Ut, (function (t) { var e = _(this); t = String(t), "" != t ? ("#" == t.charAt(0) && (t = t.slice(1)), e.fragment = "", Ot(e, t, $t)) : e.fragment = null })) }), c(jt, "toJSON", (function () { return Dt.call(this) }), { enumerable: !0 }), c(jt, "toString", (function () { return Dt.call(this) }), { enumerable: !0 }), y) { var qt = y.createObjectURL, zt = y.revokeObjectURL; qt && c(Lt, "createObjectURL", (function (t) { return qt.apply(y, arguments) })), zt && c(Lt, "revokeObjectURL", (function (t) { return zt.apply(y, arguments) })) } m(Lt, "URL"), i({ global: !0, forced: !r, sham: !s }, { URL: Lt }) }, 3129: function (t, e, a) { "use strict"; a("a630"), a("c975"), a("d81d"), a("ac1f"), a("3ca3"), a("5319"), a("1276"); var n = a("3835"), i = a("5530"), s = (a("1f09"), a("c995")), r = a("24b2"), o = a("7560"), l = a("58df"), c = a("80d2"); e["a"] = Object(l["a"])(s["a"], r["a"], o["a"]).extend({ name: "VSkeletonLoader", props: { boilerplate: Boolean, loading: Boolean, tile: Boolean, transition: String, type: String, types: { type: Object, default: function () { return {} } } }, computed: { attrs: function () { return this.isLoading ? this.boilerplate ? {} : Object(i["a"])({ "aria-busy": !0, "aria-live": "polite", role: "alert" }, this.$attrs) : this.$attrs }, classes: function () { return Object(i["a"])(Object(i["a"])({ "v-skeleton-loader--boilerplate": this.boilerplate, "v-skeleton-loader--is-loading": this.isLoading, "v-skeleton-loader--tile": this.tile }, this.themeClasses), this.elevationClasses) }, isLoading: function () { return !("default" in this.$scopedSlots) || this.loading }, rootTypes: function () { return Object(i["a"])({ actions: "button@2", article: "heading, paragraph", avatar: "avatar", button: "button", card: "image, card-heading", "card-avatar": "image, list-item-avatar", "card-heading": "heading", chip: "chip", "date-picker": "list-item, card-heading, divider, date-picker-options, date-picker-days, actions", "date-picker-options": "text, avatar@2", "date-picker-days": "avatar@28", heading: "heading", image: "image", "list-item": "text", "list-item-avatar": "avatar, text", "list-item-two-line": "sentences", "list-item-avatar-two-line": "avatar, sentences", "list-item-three-line": "paragraph", "list-item-avatar-three-line": "avatar, paragraph", paragraph: "text@3", sentences: "text@2", table: "table-heading, table-thead, table-tbody, table-tfoot", "table-heading": "heading, text", "table-thead": "heading@6", "table-tbody": "table-row-divider@6", "table-row-divider": "table-row, divider", "table-row": "table-cell@6", "table-cell": "text", "table-tfoot": "text@2, avatar@2", text: "text" }, this.types) } }, methods: { genBone: function (t, e) { return this.$createElement("div", { staticClass: "v-skeleton-loader__".concat(t, " v-skeleton-loader__bone") }, e) }, genBones: function (t) { var e = this, a = t.split("@"), i = Object(n["a"])(a, 2), s = i[0], r = i[1], o = function () { return e.genStructure(s) }; return Array.from({ length: r }).map(o) }, genStructure: function (t) { var e = []; t = t || this.type || ""; var a = this.rootTypes[t] || ""; if (t === a); else { if (t.indexOf(",") > -1) return this.mapBones(t); if (t.indexOf("@") > -1) return this.genBones(t); a.indexOf(",") > -1 ? e = this.mapBones(a) : a.indexOf("@") > -1 ? e = this.genBones(a) : a && e.push(this.genStructure(a)) } return [this.genBone(t, e)] }, genSkeleton: function () { var t = []; return this.isLoading ? t.push(this.genStructure()) : t.push(Object(c["u"])(this)), this.transition ? this.$createElement("transition", { props: { name: this.transition }, on: { afterEnter: this.resetStyles, beforeEnter: this.onBeforeEnter, beforeLeave: this.onBeforeLeave, leaveCancelled: this.resetStyles } }, t) : t }, mapBones: function (t) { return t.replace(/\s/g, "").split(",").map(this.genStructure) }, onBeforeEnter: function (t) { this.resetStyles(t), this.isLoading && (t._initialStyle = { display: t.style.display, transition: t.style.transition }, t.style.setProperty("transition", "none", "important")) }, onBeforeLeave: function (t) { t.style.setProperty("display", "none", "important") }, resetStyles: function (t) { t._initialStyle && (t.style.display = t._initialStyle.display || "", t.style.transition = t._initialStyle.transition, delete t._initialStyle) } }, render: function (t) { return t("div", { staticClass: "v-skeleton-loader", attrs: this.attrs, on: this.$listeners, class: this.classes, style: this.isLoading ? this.measurableStyles : void 0 }, [this.genSkeleton()]) } }) }, "339a": function (t, e, a) { "use strict"; a("bde5") }, "368e": function (t, e, a) { }, 4325: function (t, e, a) { "use strict"; a.r(e); var n = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("div", { staticClass: "d-flex flex-column flex-grow-1" }, [a("div", { staticClass: "d-flex align-center pb-3" }, [a("div", { staticClass: "d-flex flex-column " }, [a("div", { staticClass: "d-flex align-baseline" }, [a("div", { staticClass: "display-1" }, [t._v(t._s(t.$t("menu.pipesModel")))])]), a("v-breadcrumbs", { staticClass: "pa-0 py-2", attrs: { items: t.breadcrumbs } })], 1), a("v-spacer")], 1), a("v-card", [a("v-row", { staticClass: "pa-2 align-center", attrs: { dense: "" } }, [a("v-col", { attrs: { cols: "6" } }, [a("v-menu", { attrs: { "offset-y": "", left: "" }, scopedSlots: t._u([{ key: "activator", fn: function (e) { var n = e.on; return [a("transition", { attrs: { name: "slide-fade", mode: "out-in" } }, [a("v-btn", t._g({ directives: [{ name: "show", rawName: "v-show", value: t.selectedEvents.length > 0, expression: "selectedEvents.length > 0" }] }, n), [t._v(" " + t._s(t.$t("general.actions")) + " "), a("v-icon", { attrs: { right: "" } }, [t._v("mdi-menu-down")])], 1)], 1)] } }]) }, [a("v-list", { attrs: { dense: "" } }, [a("v-list-item", [a("v-list-item-title", [t._v(t._s(t.$t("general.verify")))])], 1), a("v-list-item", [a("v-list-item-title", [t._v(t._s(t.$t("general.disabled")))])], 1), a("v-divider"), a("v-list-item", [a("v-list-item-title", [t._v(t._s(t.$t("general.delete")))])], 1)], 1)], 1)], 1), a("v-col", { staticClass: "d-flex text-right align-center", attrs: { cols: "6" } }, [a("v-text-field", { staticClass: "flex-grow-1  mx-1", attrs: { "append-icon": "mdi-magnify", "hide-details": "", dense: "", solo: "", clearable: "", placeholder: t.$t("general.search") }, model: { value: t.searchQuery, callback: function (e) { t.searchQuery = e }, expression: "searchQuery" } }), a("v-btn", { staticClass: "mx-1", attrs: { loading: t.isLoading, icon: "", small: "" }, on: { click: function (e) { return e.preventDefault(), t.open() } } }, [a("v-icon", [t._v("mdi-refresh")])], 1), a("v-btn", { staticClass: "mx-1", attrs: { icon: "", small: "", to: { name: "models-show" } } }, [a("v-icon", [t._v("mdi-arrow-left")])], 1)], 1)], 1), a("v-data-table", { attrs: { headers: t.headers, items: t.items, options: t.options, search: t.searchQuery, page: t.page, pageCount: t.numberOfPages, "server-items-length": t.total, "footer-props": { "items-per-page-options": [5, 10, 15] } }, on: { "update:options": function (e) { t.options = e } }, scopedSlots: t._u([{ key: "item.id", fn: function (e) { var n = e.item; return [a("div", { staticClass: "font-weight-bold" }, [t._v(t._s(n.id))])] } }, { key: "item.file", fn: function (e) { var n = e.item; return [a("div", { staticClass: "font-weight-bold d-flex align-center text-no-wrap" }, [n.file ? a("a", { attrs: { href: "#", download: "true", target: "_blank", id: "file-" + n.id }, on: { click: function (e) { return e.preventDefault(), t.downloadFile(n.file) } } }, [t._v(t._s(t.$t("tables.openFile")))]) : t._e()])] } }, { key: "no-data", fn: function () { return [a("div", { staticClass: "text-center my-2 primary--text", attrs: { color: "primary" } }, [a("emptyDataSvg"), a("div", { staticClass: "dt-no_data" }, [t._v(t._s(t.$t("general.no_data_available")))])], 1)] }, proxy: !0 }]), model: { value: t.selectedEvents, callback: function (e) { t.selectedEvents = e }, expression: "selectedEvents" } })], 1)], 1) }, i = [], s = (a("7db0"), a("b0c0"), a("5530")), r = a("2f62"), o = (a("be3b"), a("c1df"), a("da32")), l = a.n(o), c = { name: "Notes", components: { emptyDataSvg: l.a }, data: function () { return { isLoading: !1, page: 1, total: 0, numberOfPages: 0, options: {}, breadcrumbs: [{ text: this.$t("menu.pipesModel"), disabled: !1, href: "#" }, { text: this.$t("menu.selectLocation"), disabled: !1, href: "/models" }, { text: "" }], dialog: !1, searchQuery: "", selectedEvents: [], headers: [{ text: this.$t("tables.id"), align: "start", value: "id" }, { text: this.$t("tables.notes"), sortable: !1, value: "notes" }, { text: this.$t("tables.file"), sortable: !1, value: "file" }], items: [], dateRange: { startDate: "", endDate: "" } } }, watch: { options: { handler: function () { this.open() } }, deep: !0, searchQuery: function () { this.open() } }, computed: Object(s["a"])({}, Object(r["e"])("events", ["notes", "locations"])), mounted: function () { this.fetchLocations(), this.open() }, methods: Object(s["a"])(Object(s["a"])({}, Object(r["b"])("events", ["getNotes", "getLocations"])), {}, { downloadFile: function (t) { window.open(t, "_blank") }, open: function () { var t, e, a = this; this.isLoading = !0; var n = this.$route.params.id, i = this.options, s = i.page, r = i.itemsPerPage, o = this.options.sortDesc[0] ? "desc" : "asc", l = { search: null !== (t = this.searchQuery) && void 0 !== t ? t : "", pageSize: r, pageNumber: s, locationId: n, sortDirection: o, sortColumn: null !== (e = this.options.sortBy[0]) && void 0 !== e ? e : "" }; this.getNotes(l).then((function () { a.isLoading = !1, -1 != r ? (a.items = a.notes.data, a.total = a.notes.total, a.numberOfPages = a.events.last_page) : (a.items = a.notes, a.total = a.notes.length, a.numberOfPages = 1) })).catch((function () { a.isLoading = !1 })) }, fetchLocations: function () { var t = this; this.isLoading = !0, this.getLocations().then((function () { t.isLoading = !1; var e = t.$route.params.id, a = t.locations.find((function (t) { return t.id == e })) || "not_selected"; t.breadcrumbs[2].text = t.$t("breadcrumbs.".concat(a.name)) })).catch((function () { t.isLoading = !1 })) } }) }, u = c, d = a("2877"), h = a("6544"), f = a.n(h), v = a("2bc5"), p = a("8336"), m = a("b0afa"), g = a("62ad"), b = a("8fea"), y = a("ce7e"), x = a("132d"), w = a("8860"), C = a("da13"), _ = a("5d23"), k = a("e449"), S = a("0fd9"), $ = a("2fa4"), O = a("8654"), L = Object(d["a"])(u, n, i, !1, null, "2ecdc7c6", null); e["default"] = L.exports; f()(L, { VBreadcrumbs: v["a"], VBtn: p["a"], VCard: m["a"], VCol: g["a"], VDataTable: b["a"], VDivider: y["a"], VIcon: x["a"], VList: w["a"], VListItem: C["a"], VListItemTitle: _["k"], VMenu: k["a"], VRow: S["a"], VSpacer: $["a"], VTextField: O["a"] }) }, 5311: function (t, e, a) { "use strict"; var n = a("5607"), i = a("2b0e"); e["a"] = i["default"].extend({ name: "rippleable", directives: { ripple: n["b"] }, props: { ripple: { type: [Boolean, Object], default: !0 } }, methods: { genRipple: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; return this.ripple ? (t.staticClass = "v-input--selection-controls__ripple", t.directives = t.directives || [], t.directives.push({ name: "ripple", value: { center: !0 } }), this.$createElement("div", t)) : null } } }) }, "544a": function (t, e, a) { }, 5803: function (t, e, a) { }, "5fb2": function (t, e, a) { "use strict"; var n = 2147483647, i = 36, s = 1, r = 26, o = 38, l = 700, c = 72, u = 128, d = "-", h = /[^\0-\u007E]/, f = /[.\u3002\uFF0E\uFF61]/g, v = "Overflow: input needs wider integers to process", p = i - s, m = Math.floor, g = String.fromCharCode, b = function (t) { var e = [], a = 0, n = t.length; while (a < n) { var i = t.charCodeAt(a++); if (i >= 55296 && i <= 56319 && a < n) { var s = t.charCodeAt(a++); 56320 == (64512 & s) ? e.push(((1023 & i) << 10) + (1023 & s) + 65536) : (e.push(i), a--) } else e.push(i) } return e }, y = function (t) { return t + 22 + 75 * (t < 26) }, x = function (t, e, a) { var n = 0; for (t = a ? m(t / l) : t >> 1, t += m(t / e); t > p * r >> 1; n += i)t = m(t / p); return m(n + (p + 1) * t / (t + o)) }, w = function (t) { var e = []; t = b(t); var a, o, l = t.length, h = u, f = 0, p = c; for (a = 0; a < t.length; a++)o = t[a], o < 128 && e.push(g(o)); var w = e.length, C = w; w && e.push(d); while (C < l) { var _ = n; for (a = 0; a < t.length; a++)o = t[a], o >= h && o < _ && (_ = o); var k = C + 1; if (_ - h > m((n - f) / k)) throw RangeError(v); for (f += (_ - h) * k, h = _, a = 0; a < t.length; a++) { if (o = t[a], o < h && ++f > n) throw RangeError(v); if (o == h) { for (var S = f, $ = i; ; $ += i) { var O = $ <= p ? s : $ >= p + r ? r : $ - p; if (S < O) break; var L = S - O, j = i - O; e.push(g(y(O + L % j))), S = m(L / j) } e.push(g(y(S))), p = x(f, k, C == w), f = 0, ++C } } ++f, ++h } return e.join("") }; t.exports = function (t) { var e, a, n = [], i = t.toLowerCase().replace(f, ".").split("."); for (e = 0; e < i.length; e++)a = i[e], n.push(h.test(a) ? "xn--" + w(a) : a); return n.join(".") } }, 6379: function (t, e, a) { }, "6bea": function (t, e, a) { "use strict"; a("6379") }, 9861: function (t, e, a) { "use strict"; a("e260"); var n = a("23e7"), i = a("d066"), s = a("0d3b"), r = a("6eeb"), o = a("e2cc"), l = a("d44e"), c = a("9ed3"), u = a("69f3"), d = a("19aa"), h = a("5135"), f = a("0366"), v = a("f5df"), p = a("825a"), m = a("861d"), g = a("7c73"), b = a("5c6c"), y = a("9a1f"), x = a("35a1"), w = a("b622"), C = i("fetch"), _ = i("Headers"), k = w("iterator"), S = "URLSearchParams", $ = S + "Iterator", O = u.set, L = u.getterFor(S), j = u.getterFor($), D = /\+/g, E = Array(4), V = function (t) { return E[t - 1] || (E[t - 1] = RegExp("((?:%[\\da-f]{2}){" + t + "})", "gi")) }, A = function (t) { try { return decodeURIComponent(t) } catch (e) { return t } }, I = function (t) { var e = t.replace(D, " "), a = 4; try { return decodeURIComponent(e) } catch (n) { while (a) e = e.replace(V(a--), A); return e } }, B = /[!'()~]|%20/g, R = { "!": "%21", "'": "%27", "(": "%28", ")": "%29", "~": "%7E", "%20": "+" }, T = function (t) { return R[t] }, M = function (t) { return encodeURIComponent(t).replace(B, T) }, F = function (t, e) { if (e) { var a, n, i = e.split("&"), s = 0; while (s < i.length) a = i[s++], a.length && (n = a.split("="), t.push({ key: I(n.shift()), value: I(n.join("=")) })) } }, P = function (t) { this.entries.length = 0, F(this.entries, t) }, U = function (t, e) { if (t < e) throw TypeError("Not enough arguments") }, N = c((function (t, e) { O(this, { type: $, iterator: y(L(t).entries), kind: e }) }), "Iterator", (function () { var t = j(this), e = t.kind, a = t.iterator.next(), n = a.value; return a.done || (a.value = "keys" === e ? n.key : "values" === e ? n.value : [n.key, n.value]), a })), q = function () { d(this, q, S); var t, e, a, n, i, s, r, o, l, c = arguments.length > 0 ? arguments[0] : void 0, u = this, f = []; if (O(u, { type: S, entries: f, updateURL: function () { }, updateSearchParams: P }), void 0 !== c) if (m(c)) if (t = x(c), "function" === typeof t) { e = t.call(c), a = e.next; while (!(n = a.call(e)).done) { if (i = y(p(n.value)), s = i.next, (r = s.call(i)).done || (o = s.call(i)).done || !s.call(i).done) throw TypeError("Expected sequence with length 2"); f.push({ key: r.value + "", value: o.value + "" }) } } else for (l in c) h(c, l) && f.push({ key: l, value: c[l] + "" }); else F(f, "string" === typeof c ? "?" === c.charAt(0) ? c.slice(1) : c : c + "") }, z = q.prototype; o(z, { append: function (t, e) { U(arguments.length, 2); var a = L(this); a.entries.push({ key: t + "", value: e + "" }), a.updateURL() }, delete: function (t) { U(arguments.length, 1); var e = L(this), a = e.entries, n = t + "", i = 0; while (i < a.length) a[i].key === n ? a.splice(i, 1) : i++; e.updateURL() }, get: function (t) { U(arguments.length, 1); for (var e = L(this).entries, a = t + "", n = 0; n < e.length; n++)if (e[n].key === a) return e[n].value; return null }, getAll: function (t) { U(arguments.length, 1); for (var e = L(this).entries, a = t + "", n = [], i = 0; i < e.length; i++)e[i].key === a && n.push(e[i].value); return n }, has: function (t) { U(arguments.length, 1); var e = L(this).entries, a = t + "", n = 0; while (n < e.length) if (e[n++].key === a) return !0; return !1 }, set: function (t, e) { U(arguments.length, 1); for (var a, n = L(this), i = n.entries, s = !1, r = t + "", o = e + "", l = 0; l < i.length; l++)a = i[l], a.key === r && (s ? i.splice(l--, 1) : (s = !0, a.value = o)); s || i.push({ key: r, value: o }), n.updateURL() }, sort: function () { var t, e, a, n = L(this), i = n.entries, s = i.slice(); for (i.length = 0, a = 0; a < s.length; a++) { for (t = s[a], e = 0; e < a; e++)if (i[e].key > t.key) { i.splice(e, 0, t); break } e === a && i.push(t) } n.updateURL() }, forEach: function (t) { var e, a = L(this).entries, n = f(t, arguments.length > 1 ? arguments[1] : void 0, 3), i = 0; while (i < a.length) e = a[i++], n(e.value, e.key, this) }, keys: function () { return new N(this, "keys") }, values: function () { return new N(this, "values") }, entries: function () { return new N(this, "entries") } }, { enumerable: !0 }), r(z, k, z.entries), r(z, "toString", (function () { var t, e = L(this).entries, a = [], n = 0; while (n < e.length) t = e[n++], a.push(M(t.key) + "=" + M(t.value)); return a.join("&") }), { enumerable: !0 }), l(q, S), n({ global: !0, forced: !s }, { URLSearchParams: q }), s || "function" != typeof C || "function" != typeof _ || n({ global: !0, enumerable: !0, forced: !0 }, { fetch: function (t) { var e, a, n, i = [t]; return arguments.length > 1 && (e = arguments[1], m(e) && (a = e.body, v(a) === S && (n = e.headers ? new _(e.headers) : new _, n.has("content-type") || n.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"), e = g(e, { body: b(0, String(a)), headers: b(0, n) }))), i.push(e)), C.apply(this, i) } }), t.exports = { URLSearchParams: q, getState: L } }, "99d9": function (t, e, a) { "use strict"; a.d(e, "b", (function () { return s })), a.d(e, "c", (function () { return r })), a.d(e, "d", (function () { return o })), a.d(e, "e", (function () { return l })); var n = a("b0afa"); a.d(e, "a", (function () { return n["a"] })); var i = a("80d2"), s = Object(i["j"])("v-card__actions"), r = Object(i["j"])("v-card__subtitle"), o = Object(i["j"])("v-card__text"), l = Object(i["j"])("v-card__title"); n["a"] }, "9a1f": function (t, e, a) { var n = a("825a"), i = a("35a1"); t.exports = function (t) { var e = i(t); if ("function" != typeof e) throw TypeError(String(t) + " is not iterable"); return n(e.call(t)) } }, "9d01": function (t, e, a) { }, a844: function (t, e, a) { "use strict"; a("a9e3"); var n = a("5530"), i = (a("1681"), a("8654")), s = a("58df"), r = Object(s["a"])(i["a"]); e["a"] = r.extend({ name: "v-textarea", props: { autoGrow: Boolean, noResize: Boolean, rowHeight: { type: [Number, String], default: 24, validator: function (t) { return !isNaN(parseFloat(t)) } }, rows: { type: [Number, String], default: 5, validator: function (t) { return !isNaN(parseInt(t, 10)) } } }, computed: { classes: function () { return Object(n["a"])({ "v-textarea": !0, "v-textarea--auto-grow": this.autoGrow, "v-textarea--no-resize": this.noResizeHandle }, i["a"].options.computed.classes.call(this)) }, noResizeHandle: function () { return this.noResize || this.autoGrow } }, watch: { lazyValue: function () { this.autoGrow && this.$nextTick(this.calculateInputHeight) }, rowHeight: function () { this.autoGrow && this.$nextTick(this.calculateInputHeight) } }, mounted: function () { var t = this; setTimeout((function () { t.autoGrow && t.calculateInputHeight() }), 0) }, methods: { calculateInputHeight: function () { var t = this.$refs.input; if (t) { t.style.height = "0"; var e = t.scrollHeight, a = parseInt(this.rows, 10) * parseFloat(this.rowHeight); t.style.height = Math.max(a, e) + "px" } }, genInput: function () { var t = i["a"].options.methods.genInput.call(this); return t.tag = "textarea", delete t.data.attrs.type, t.data.attrs.rows = this.rows, t }, onInput: function (t) { i["a"].options.methods.onInput.call(this, t), this.autoGrow && this.calculateInputHeight() }, onKeyDown: function (t) { this.isFocused && 13 === t.keyCode && t.stopPropagation(), this.$emit("keydown", t) } } }) }, b73d: function (t, e, a) { "use strict"; a("0481"), a("4069"); var n = a("5530"), i = (a("ec29"), a("9d01"), a("fe09")), s = a("c37a"), r = a("c3f0"), o = a("0789"), l = a("490a"), c = a("80d2"); e["a"] = i["a"].extend({ name: "v-switch", directives: { Touch: r["b"] }, props: { inset: Boolean, loading: { type: [Boolean, String], default: !1 }, flat: { type: Boolean, default: !1 } }, computed: { classes: function () { return Object(n["a"])(Object(n["a"])({}, s["b"].options.computed.classes.call(this)), {}, { "v-input--selection-controls v-input--switch": !0, "v-input--switch--flat": this.flat, "v-input--switch--inset": this.inset }) }, attrs: function () { return { "aria-checked": String(this.isActive), "aria-disabled": String(this.isDisabled), role: "switch" } }, validationState: function () { return this.hasError && this.shouldValidate ? "error" : this.hasSuccess ? "success" : null !== this.hasColor ? this.computedColor : void 0 }, switchData: function () { return this.setTextColor(this.loading ? void 0 : this.validationState, { class: this.themeClasses }) } }, methods: { genDefaultSlot: function () { return [this.genSwitch(), this.genLabel()] }, genSwitch: function () { return this.$createElement("div", { staticClass: "v-input--selection-controls__input" }, [this.genInput("checkbox", Object(n["a"])(Object(n["a"])({}, this.attrs), this.attrs$)), this.genRipple(this.setTextColor(this.validationState, { directives: [{ name: "touch", value: { left: this.onSwipeLeft, right: this.onSwipeRight } }] })), this.$createElement("div", Object(n["a"])({ staticClass: "v-input--switch__track" }, this.switchData)), this.$createElement("div", Object(n["a"])({ staticClass: "v-input--switch__thumb" }, this.switchData), [this.genProgress()])]) }, genProgress: function () { return this.$createElement(o["h"], {}, [!1 === this.loading ? null : this.$slots.progress || this.$createElement(l["a"], { props: { color: !0 === this.loading || "" === this.loading ? this.color || "primary" : this.loading, size: 16, width: 2, indeterminate: !0 } })]) }, onSwipeLeft: function () { this.isActive && this.onChange() }, onSwipeRight: function () { this.isActive || this.onChange() }, onKeydown: function (t) { (t.keyCode === c["A"].left && this.isActive || t.keyCode === c["A"].right && !this.isActive) && this.onChange() } } }) }, b744: function (t, e, a) { "use strict"; a("e602") }, bde5: function (t, e, a) { }, c74c: function (t, e, a) { "use strict"; a("544a") }, ce87: function (t, e, a) { "use strict"; var n = a("16b7"), i = a("f2e7"), s = a("58df"), r = a("d9bd"); e["a"] = Object(s["a"])(n["a"], i["a"]).extend({ name: "v-hover", props: { disabled: { type: Boolean, default: !1 }, value: { type: Boolean, default: void 0 } }, methods: { onMouseEnter: function () { this.runDelay("open") }, onMouseLeave: function () { this.runDelay("close") } }, render: function () { return this.$scopedSlots.default || void 0 !== this.value ? (this.$scopedSlots.default && (t = this.$scopedSlots.default({ hover: this.isActive })), Array.isArray(t) && 1 === t.length && (t = t[0]), t && !Array.isArray(t) && t.tag ? (this.disabled || (t.data = t.data || {}, this._g(t.data, { mouseenter: this.onMouseEnter, mouseleave: this.onMouseLeave })), t) : (Object(r["c"])("v-hover should only contain a single element", this), t)) : (Object(r["c"])("v-hover is missing a default scopedSlot or bound value", this), null); var t } }) }, e602: function (t, e, a) { }, ec29: function (t, e, a) { }, ec5c: function (t, e, a) { "use strict"; a.r(e); var n = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("div", { staticClass: "d-flex flex-column flex-grow-1" }, [a("div", { staticClass: "d-flex align-center pb-3" }, [a("v-spacer"), a("div", { staticClass: "h-38 d-flex" }, [a("v-btn", { staticClass: "primary--text  v-btn--active mx-1", attrs: { title: "Reload", to: t.$route.path, elevation: "0" } }, [a("v-icon", [t._v("mdi-reload")])], 1), a("div", { staticClass: "date-picker position-relative mx-1" }, [a("i", { staticClass: "v-icon mdi mdi-calendar", attrs: { "aria-hidden": "true" } }), a("date-range-picker", { attrs: { direction: "rtl" }, on: { update: function (e) { return t.changeDatePicker() } }, model: { value: t.dateRange, callback: function (e) { t.dateRange = e }, expression: "dateRange" } })], 1), a("v-switch", { staticClass: "custom-switch", attrs: { "hide-details": "", inset: "", label: t.$t("menu.live_mode") }, model: { value: t.listen, callback: function (e) { t.listen = e }, expression: "listen" } })], 1)], 1), a("statistics-card", { ref: "statComponent" }), a("v-row", { staticClass: "mt-0 mb-2" }, [a("v-col", { attrs: { cols: "12" } }, [a("v-card", [a("v-row", { staticClass: "pa-2 align-center", attrs: { dense: "" } }, [a("v-col", { attrs: { cols: "3" } }, [a("v-menu", { attrs: { "offset-y": "", left: "" }, scopedSlots: t._u([{ key: "activator", fn: function (e) { var n = e.on; return [a("transition", { attrs: { name: "slide-fade", mode: "out-in" } }, [a("v-btn", t._g({ directives: [{ name: "show", rawName: "v-show", value: t.selectedEvents.length > 0 && 1 === t.selectedStatus.value, expression: "\n                      selectedEvents.length > 0 && selectedStatus.value === 1\n                    " }] }, n), [t._v(" " + t._s(t.$t("general.actions")) + " "), a("v-icon", { attrs: { right: "" } }, [t._v("mdi-menu-down")])], 1)], 1)] } }]) }, [a("v-list", { attrs: { dense: "" } }, [a("v-list-item", { on: { click: function (e) { t.doAction(t.action = "status", t.value = 1) } } }, [a("v-list-item-title", [t._v(t._s(t.$t("general.verify")))])], 1), a("v-list-item", { on: { click: function (e) { t.doAction(t.action = "status", t.value = 0) } } }, [a("v-list-item-title", [t._v(t._s(t.$t("general.disabled")))])], 1), a("v-divider"), a("v-list-item", { directives: [{ name: "can", rawName: "v-can", value: "delete-event", expression: "'delete-event'" }], on: { click: function (e) { t.doAction(t.action = "delete", t.value = 1) } } }, [a("v-list-item-title", [t._v(t._s(t.$t("general.delete")))])], 1)], 1)], 1)], 1), a("v-col", { staticClass: "d-flex text-right align-center", attrs: { cols: "9" } }, [a("v-select", { staticClass: " mx-1", attrs: { label: t.$t("general.status"), dense: "", items: t.translatedStatusTypes, "item-text": "text", "item-value": "value", "hide-details": "", "return-object": "", solo: "" }, model: { value: t.selectedStatus, callback: function (e) { t.selectedStatus = e }, expression: "selectedStatus" } }), a("v-select", { staticClass: " mx-1", attrs: { disabled: 0 === t.items.length, label: t.$t("general.types"), dense: "", items: t.translatedEventTypes, "item-text": "text", "item-value": "value", "hide-details": "", "return-object": "", solo: "" }, model: { value: t.selectedType, callback: function (e) { t.selectedType = e }, expression: "selectedType" } }), a("v-text-field", { staticClass: "flex-grow-1  mx-1", attrs: { disabled: 0 === t.items.length, "append-icon": "mdi-magnify", "hide-details": "", dense: "", solo: "", clearable: "", placeholder: t.$t("general.search") }, on: { keyup: function (e) { return !e.type.indexOf("key") && t._k(e.keyCode, "enter", 13, e.key, "Enter") ? null : t.searchEvent(t.searchQuery) } }, model: { value: t.searchQuery, callback: function (e) { t.searchQuery = e }, expression: "searchQuery" } }), a("v-btn", { staticClass: "primary--text  v-btn--active mx-1", attrs: { disabled: 0 === t.items.length, title: "Gallery", elevation: "0" }, on: { click: t.openAllCapturedImage } }, [a("v-icon", [t._v("mdi-image-multiple")])], 1), a("v-btn", { staticClass: "primary--text  v-btn--active mx-1", attrs: { disabled: 0 === t.items.length, title: "Notes", elevation: "0" }, on: { click: t.openNotes } }, [a("v-icon", [t._v("mdi-note-text-outline")])], 1), a("v-btn", { staticClass: "primary--text  v-btn--active mx-1", attrs: { disabled: 0 === t.items.length, title: "Export", elevation: "0" }, on: { click: t.downloadExcel } }, [a("v-icon", [t._v("mdi-download-box-outline")])], 1), a("v-btn", { staticClass: "mx-1", attrs: { loading: t.isLoading, icon: "", small: "" }, on: { click: function (e) { return e.preventDefault(), t.open() } } }, [a("v-icon", [t._v("mdi-refresh")])], 1)], 1)], 1), a("v-data-table", { staticClass: "flex-grow-1 cursor-pointer", attrs: { "show-select": "", headers: t.headers, items: t.items, options: t.options, "sort-by": t.sortBy, "sort-desc": t.sortDesc, search: t.searchQuery, page: t.page, pageCount: t.numberOfPages, "server-items-length": t.total, "footer-props": { "items-per-page-options": [5, 10, 15] } }, on: { "update:options": function (e) { t.options = e }, "update:sortBy": function (e) { t.sortBy = e }, "update:sort-by": function (e) { t.sortBy = e }, "update:sortDesc": function (e) { t.sortDesc = e }, "update:sort-desc": function (e) { t.sortDesc = e }, "click:row": t.openCapturedImage }, scopedSlots: t._u([{ key: "item.id", fn: function (e) { var n = e.item; return [a("div", { staticClass: "font-weight-bold" }, [t._v(t._s(n.id))])] } }, { key: "item.date", fn: function (e) { var n = e.item; return [a("div", [t._v(t._s(t.formatDateTime(n.date).date))])] } }, { key: "item.time", fn: function (e) { var n = e.item; return [a("div", [t._v(t._s(t.formatDateTime(n.date).time))])] } }, { key: "item.type", fn: function (e) { var n = e.item; return [a("div", { staticClass: "font-weight-bold d-flex align-center text-no-wrap" }, t._l(n.types, (function (e, n) { return a("div", ["vehicles" === e ? a("v-chip", { staticClass: "ma-1", attrs: { color: "deep-purple", "text-color": "white", small: "" } }, [t._v(" " + t._s(t.$t("general." + e)) + " ")]) : "people" === e ? a("v-chip", { staticClass: "ma-1", attrs: { color: "warning", "text-color": "white", small: "" } }, [t._v(" " + t._s(t.$t("general." + e)) + " ")]) : "smoke" === e ? a("v-chip", { staticClass: "ma-1", attrs: { color: "success", "text-color": "white", small: "" } }, [t._v(" " + t._s(t.$t("general." + e)) + " ")]) : "fire" === e ? a("v-chip", { staticClass: "ma-1", attrs: { color: "red", "text-color": "white", small: "" } }, [t._v(" " + t._s(t.$t("general." + e)) + " ")]) : "leakage" === e ? a("v-chip", { staticClass: "ma-1", attrs: { color: "primary", "text-color": "white", small: "" } }, [t._v(" " + t._s(t.$t("general." + e)) + " ")]) : a("v-chip", { staticClass: "ma-1", attrs: { color: "green", "text-color": "white", small: "" } }, [t._v(" " + t._s(e) + " ")])], 1) })), 0)] } }, { key: "item.status", fn: function (e) { var n = e.item; return [a("div", { staticClass: "font-weight-bold d-flex align-center text-no-wrap" }, ["pending" === n.status.key ? a("div", { staticClass: "warning--text" }, [a("v-icon", { attrs: { small: "", color: "warning" } }, [t._v("mdi-circle-medium")]), a("span", [t._v(t._s(t.$t("general.pending")))])], 1) : "confirmed" === n.status.key ? a("div", { staticClass: "success--text" }, [a("v-icon", { attrs: { small: "", color: "success" } }, [t._v("mdi-circle-medium")]), a("span", [t._v(t._s(t.$t("general.confirmed")))])], 1) : "error" === n.status.key ? a("div", { staticClass: "red--text" }, [a("v-icon", { attrs: { small: "", color: "red" } }, [t._v("mdi-circle-medium")]), a("span", [t._v(t._s(t.$t("general.error")))])], 1) : t._e()])] } }, { key: "item.action", fn: function (e) { var n = e.item; return [a("div", { staticClass: "actions", on: { click: function (e) { e.stopPropagation(), t.dialog = !0 } } }, [a("v-btn", { attrs: { color: "primary", small: "" }, on: { click: function (e) { return t.changeStatus(n) } } }, [t._v(" " + t._s(t.$t("general.changeStatus")) + " ")])], 1)] } }, { key: "no-data", fn: function () { return [a("div", { staticClass: "text-center my-2 primary--text", attrs: { color: "primary" } }, [a("emptyDataSvg"), a("div", { staticClass: "dt-no_data" }, [t._v(" " + t._s(t.$t("general.no_data_available")) + " ")])], 1)] }, proxy: !0 }]), model: { value: t.selectedEvents, callback: function (e) { t.selectedEvents = e }, expression: "selectedEvents" } })], 1)], 1)], 1), a("change-status-dialog", { attrs: { id: t.eventId, eventItem: t.eventItem, statuses: t.statuses }, model: { value: t.dialog, callback: function (e) { t.dialog = e }, expression: "dialog" } }), a("div", { staticClass: "model-aside", class: { open: t.CapturedImageOpened }, attrs: { id: "captured_images" } }, [a("v-card", [a("v-card-title", { staticClass: "d-flex justify-space-between align-center border-bottom" }, [t._v(" " + t._s(t.$t("general.capturedImage")) + " "), a("v-btn", { attrs: { color: "primary", icon: "" }, on: { click: t.closeCapturedImage } }, [a("v-icon", [t._v(" mdi-close ")])], 1)], 1), a("v-card-text", { staticClass: "pa-0" }, [a("div", { staticClass: "captured_images_body " }, [a("div", { staticClass: "captured_images_scroll position-relative scroll-y " }, [a("v-container", { attrs: { fluid: "" } }, [a("v-row", { attrs: { dense: "" } }, [a("v-col", { attrs: { cols: "12" } }, [a("div", { staticClass: "image-cover position-relative" }, [a("div", { staticClass: "event-img" }, [a("canvas", { staticClass: "mx-auto", staticStyle: { "max-width": "100%" }, attrs: { id: "canvas" } })])])]), a("v-col", { attrs: { cols: "12" } }, [a("div", { staticClass: " data-cont" }, [a("div", [a("h6", {}, [t._v("ID")]), t._v(" " + t._s(t.eventOpened.id) + " ")])])]), a("v-col", { attrs: { cols: "12", md: "6" } }, [a("div", { staticClass: " data-cont" }, [a("div", [a("h6", {}, [t._v("Date")]), a("p", [t._v(t._s(t._f("formatDate")(t.eventOpened.date)))])])])]), a("v-col", { attrs: { cols: "12", md: "6" } }, [a("div", { staticClass: " data-cont" }, [a("div", [a("h6", {}, [t._v("Time")]), a("p", [t._v(t._s(t._f("formatTime")(t.eventOpened.date)))])])])]), a("v-col", { attrs: { cols: "12", md: "6" } }, [a("div", { staticClass: " data-cont" }, [a("div", [a("h6", {}, [t._v("Status")]), "pending" === t.eventStatus ? a("v-chip", { staticClass: "mt-1", attrs: { color: "orange" } }, [a("v-icon", { attrs: { small: "", color: "warning" } }, [t._v("mdi-circle-medium")]), t._v(" " + t._s(t.$t("general.pending")) + " ")], 1) : "confirmed" === t.eventStatus ? a("v-chip", { staticClass: "mt-1", attrs: { color: "green" } }, [a("v-icon", { attrs: { small: "", color: "green lighten-4" } }, [t._v("mdi-circle-medium")]), t._v(" " + t._s(t.$t("general.confirmed")) + " ")], 1) : a("v-chip", { staticClass: "mt-1", attrs: { color: "red" } }, [a("v-icon", { attrs: { small: "", color: "red lighten-4" } }, [t._v("mdi-circle-medium")]), t._v(" " + t._s(t.$t("general.error")) + " ")], 1)], 1)])]), a("v-col", { attrs: { cols: "12", md: "6" } }, [a("div", { staticClass: " data-cont" }, [a("div", [a("h6", {}, [t._v("Management")]), a("div", { staticClass: "modal-action", on: { click: function (e) { e.stopPropagation(), t.dialog = !0 } } }, [a("v-btn", { staticClass: "mt-1", attrs: { color: "primary" }, on: { click: function (e) { return t.changeStatus(t.eventOpened) } } }, [t._v(" " + t._s(t.$t("general.changeStatus")) + " ")])], 1)])])])], 1)], 1)], 1)])])], 1)], 1), a("div", { staticClass: "model-aside", class: { open: t.AllCapturedImageOpened }, attrs: { id: "all_captured_images" } }, [a("v-card", [a("v-card-title", { staticClass: "d-flex justify-space-between align-center border-bottom" }, [t._v(" " + t._s(t.$t("general.capturedImages")) + " "), a("v-btn", { attrs: { color: "primary", icon: "" }, on: { click: t.closeAllCapturedImage } }, [a("v-icon", [t._v(" mdi-close ")])], 1)], 1), a("v-card-text", [a("div", { staticClass: "captured_images_body" }, [a("div", { staticClass: "captured_images_scroll position-relative scroll-y " }, [a("div", { staticClass: "row ma-0" }, t._l(t.items, (function (e, n) { return a("div", { staticClass: "col-md-6 pa-1" }, [a("div", { staticClass: "overlay-wrapper" }, [a("img", { attrs: { src: e.image, alt: "" } }), a("div", { staticClass: "overlay-layer bg-dark bg-opacity-10" }, [a("v-btn", { attrs: { color: "primary" } }, [t._v(" " + t._s(t.$t("general.screenshot")) + " " + t._s(n + 1))])], 1)])]) })), 0)])])])], 1)], 1), a("div", { staticClass: "model-aside", class: { open: t.ImageSettingsOpened }, attrs: { id: "captured_images_settings" } }, [a("v-card", [a("v-card-title", { staticClass: "d-flex justify-space-between align-center border-bottom" }, [t._v(" " + t._s(t.$t("general.settings")) + " "), a("span", { staticClass: "cursor-pointer", on: { click: t.CloseImageSettings } }, [t._v(" X ")])]), a("v-card-text", [a("div", { staticClass: "captured_images_body " }, [a("div", { staticClass: "captured_images_scroll position-relative scroll-y " }, [a("div", { staticClass: "row ma-0" }, [a("div", { staticClass: "col-md-12 px-0 py-3 border-bottom" }, [a("h3", { staticClass: "mb-2" }, [t._v(t._s(t.$t("general.controlSetting")))]), a("v-text-field", { attrs: { value: "", type: "date", label: t.$t("general.selectDate") } }), a("div", { staticClass: "d-flex align-center" }, [a("v-switch", { staticClass: "mr-2", attrs: { label: t.$t("general.notification") } }), a("v-switch", { attrs: { label: t.$t("general.screenshots") } })], 1)], 1), a("div", { staticClass: "col-md-12 px-0 py-3" }, [a("h3", { staticClass: "mb-2" }, [t._v(t._s(t.$t("general.export")))]), a("v-text-field", { attrs: { value: "", type: "date", label: "Select Date" } }), a("div", { staticClass: "d-flex align-center" }, [a("v-switch", { staticClass: "mr-2", attrs: { label: t.$t("general.notification") } }), a("v-switch", { attrs: { label: t.$t("general.screenshots") } })], 1), a("v-select", { attrs: { items: t.filter, label: t.$t("general.selectDate") }, model: { value: t.defaultSelected, callback: function (e) { t.defaultSelected = e }, expression: "defaultSelected" } })], 1)])])])])], 1)], 1)], 1) }, i = [], s = (a("99af"), a("cb29"), a("7db0"), a("4160"), a("caad"), a("a15b"), a("d81d"), a("b0c0"), a("d3b7"), a("2532"), a("3ca3"), a("498a"), a("159b"), a("ddb0"), a("2b3d"), a("2909")), r = a("5530"), o = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-row", { attrs: { justify: "center" } }, [a("v-dialog", { attrs: { "max-width": "500" }, model: { value: t.dialog, callback: function (e) { t.dialog = e }, expression: "dialog" } }, [a("v-card", [a("v-card-title", { staticClass: "text-h5 d-flex justify-space-between align-center border-bottom" }, [t._v(" " + t._s(t.$t("general.confirmationLog")) + " "), a("v-btn", { attrs: { icon: "" }, on: { click: function (e) { t.dialog = !1 } } }, [a("v-icon", [t._v(" mdi-close ")])], 1)], 1), a("v-card-text", { staticClass: "mt-4" }, [a("v-row", [a("v-col", { attrs: { cols: "12" } }, [a("v-select", { attrs: { items: t.translatedStatus, label: t.$t("general.status"), "item-text": function (t) { return t.text }, "item-value": function (t) { return t.value }, "hide-details": "", solo: "", "return-object": "" }, model: { value: t.form.status, callback: function (e) { t.$set(t.form, "status", e) }, expression: "form.status" } })], 1), a("v-col", { attrs: { cols: "12" } }, [a("v-file-input", { attrs: { solo: "", label: t.$t("general.uploadFile") }, model: { value: t.form.file, callback: function (e) { t.$set(t.form, "file", e) }, expression: "form.file" } })], 1), a("v-col", { attrs: { cols: "12" } }, [a("v-textarea", { attrs: { label: t.$t("general.note"), value: "", solo: "" }, model: { value: t.form.notes, callback: function (e) { t.$set(t.form, "notes", e) }, expression: "form.notes" } })], 1)], 1)], 1), a("v-divider"), a("v-card-actions", { staticClass: "py-2" }, [a("v-spacer"), a("v-btn", { staticClass: "mx-2", attrs: { color: "primary" }, on: { click: t.updateEventMethod } }, [t._v(" " + t._s(t.$t("general.save")) + " ")]), a("v-btn", { attrs: { color: "grey lighten-3" }, on: { click: function (e) { t.dialog = !1 } } }, [t._v(" " + t._s(t.$t("general.cancel")) + " ")])], 1)], 1)], 1)], 1) }, l = [], c = (a("a9e3"), a("2f62")), u = a("d7c2"), d = { props: { value: Boolean, eventItem: Object, id: Number, statuses: Array }, data: function () { return { status: [{ key: "error", value: 0 }, { key: "confirmed", value: 1 }, { key: "pending", value: 2 }], form: { status: null, notes: "", file: null } } }, computed: { dialog: { get: function () { return this.value }, set: function (t) { this.$emit("input", t) } }, event: { get: function () { return this.$store.state.events.event }, set: function (t) { this.$store.commit("events/SET_EVENT", t) } }, translatedStatus: function () { var t = this; return this.statuses.map((function (e) { return { key: e.key, text: t.$t("general." + e.key), value: e.value } })) } }, watch: { id: function () { this.refresh() } }, methods: Object(r["a"])(Object(r["a"])({}, Object(c["b"])("events", ["updateEvent"])), {}, { refresh: function () { var t; this.loading = !0, this.event = this.eventItem; var e = null !== (t = this.eventItem) && void 0 !== t ? t : {}, a = e.status, n = e.notes, i = e.id; this.form = { status: a, notes: n, id: i } }, fetchData: function () { this.$root.$emit("table_component") }, updateEventMethod: function () { var t, e, a = this; this.loading = !0, this.errors = {}; var n = new FormData; n.append("file", null !== (t = this.form.file) && void 0 !== t ? t : null), n.append("notes", null !== (e = this.form.notes) && void 0 !== e ? e : ""), n.append("status", this.form.status.value), this.updateEvent(n).then((function (t) { a.loading = !1, a.dialog = !1, a.fetchData(), a.errors = {}, Object(u["b"])("success", t.data.message) })).catch((function (t) { a.loading = !1 })) } }) }, h = d, f = a("2877"), v = a("6544"), p = a.n(v), m = a("8336"), g = a("b0afa"), b = a("99d9"), y = a("62ad"), x = a("169a"), w = a("ce7e"), C = a("23a7"), _ = a("132d"), k = a("0fd9"), S = a("b974"), $ = a("2fa4"), O = a("a844"), L = Object(f["a"])(h, o, l, !1, null, null, null), j = L.exports; p()(L, { VBtn: m["a"], VCard: g["a"], VCardActions: b["b"], VCardText: b["d"], VCardTitle: b["e"], VCol: y["a"], VDialog: x["a"], VDivider: w["a"], VFileInput: C["a"], VIcon: _["a"], VRow: k["a"], VSelect: S["a"], VSpacer: $["a"], VTextarea: O["a"] }); var D = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-row", { staticClass: "flex-grow-0 mb-1 models-cards", attrs: { dense: "" } }, t._l(t.cards, (function (e, n) { return a("v-col", { key: n, attrs: { cols: "12", lg: "2", md: "6" } }, [a("div", { staticClass: "d-flex flex-column flex-grow-1 h-full", attrs: { id: n } }, [a("track-card", { staticClass: "h-full", attrs: { label: t.$t("general." + n), color: "#8c9eff", value: e } })], 1)]) })), 1) }, E = [], V = a("04b9"), A = a("dcac"), I = a("c1df"), B = a.n(I), R = { name: "statistics", components: { TrackCard: A["a"], CardsSkeleton: V["a"] }, computed: Object(r["a"])({}, Object(c["e"])("events", ["cards"])), data: function () { return { isLoading: !1 } }, mounted: function () { this.cardsData() }, methods: Object(r["a"])(Object(r["a"])({}, Object(c["b"])("events", ["getCards"])), {}, { cardsData: function () { var t = this, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; this.isLoading = !0; var a = this.$route.params.id, n = { locationId: a, startDate: e.startDate ? B()(e.startDate).format("YYYY-MM-DD") : "", endDate: e.endDate ? B()(e.endDate).format("YYYY-MM-DD") : "" }; this.getCards(n).then((function () { t.isLoading = !1 })).catch((function () { t.isLoading = !1 })) } }) }, T = R, M = Object(f["a"])(T, D, E, !1, null, "661f3cdb", null), F = M.exports; p()(M, { VCol: y["a"], VRow: k["a"] }); var P = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("div", { staticClass: "mb-2" }, [a("v-row", { attrs: { dense: "" } }, [a("v-col", { attrs: { cols: "12" } }, [a("v-card", { staticClass: "general-stats-card" }, [a("v-card-title", [t._v(" " + t._s(t.$t("general.statistics")) + " ")]), a("v-card-text", [t.isLoading ? a("v-row", t._l(7, (function (t) { return a("v-col", { key: t }, [a("v-skeleton-loader", { attrs: { type: "list-item-avatar" } })], 1) })), 1) : a("v-row", t._l(t.cards, (function (e, n) { return a("v-col", { key: n, attrs: { cols: "6", md: "2", lg: "2" } }, [a("div", { staticClass: "d-flex ", attrs: { id: n } }, [a("v-avatar", { staticClass: "me-3 v-avatar--variant-tonal ", class: t.getColor(n), attrs: { size: "42", variant: "tonal" } }, [t.isComponentRegistered(n) ? a(n, { tag: "component" }) : t._e()], 1), a("div", { staticClass: "d-flex flex-column" }, [a("span", { staticClass: "text-h5 font-weight-medium" }, [t._v(t._s(e))]), a("span", { staticClass: " text-caption" }, [t._v(" " + t._s(t.$t("general." + n)) + " ")])])], 1)]) })), 1)], 1)], 1)], 1)], 1)], 1) }, U = [], N = a("a9c1"), q = a.n(N), z = a("5928"), H = a.n(z), Y = a("8c7e"), W = a.n(Y), Q = a("76e1"), K = a.n(Q), G = a("7e46"), Z = a.n(G), J = a("d1c7"), X = a.n(J), tt = a("f80e"), et = a.n(tt), at = a("d8c5"), nt = a.n(at), it = { components: { total: q.a, smoke: H.a, underProcess: W.a, fire: K.a, people: Z.a, vehicles: X.a, leakage: et.a, change: nt.a }, data: function () { return { isLoading: !1 } }, created: function () { }, mounted: function () { this.cardsData() }, methods: Object(r["a"])(Object(r["a"])({}, Object(c["b"])("events", ["getCards"])), {}, { isComponentRegistered: function (t) { return !!this.$options.components[t] }, getColor: function (t) { var e = { smoke: "grey--text text--darken-1", total: "primary--text", fire: "red--text", people: "indigo--text", vehicles: "cyan--text", leakage: "orange--text", change: "yellow--text text--darken-1" }; return t in e ? e[t] : "primary--text" }, cardsData: function () { var t = this, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; this.isLoading = !0; var a = this.$route.params.id, n = { locationId: a, startDate: e.startDate ? B()(e.startDate).format("YYYY-MM-DD") : "", endDate: e.endDate ? B()(e.endDate).format("YYYY-MM-DD") : "" }; this.getCards(n).then((function () { t.isLoading = !1 })).catch((function () { t.isLoading = !1 })) } }), computed: Object(r["a"])({}, Object(c["e"])("events", ["cards"])) }, st = it, rt = (a("b744"), a("8212")), ot = a("3129"), lt = Object(f["a"])(st, P, U, !1, null, null, null), ct = lt.exports; p()(lt, { VAvatar: rt["a"], VCard: g["a"], VCardText: b["d"], VCardTitle: b["e"], VCol: y["a"], VRow: k["a"], VSkeletonLoader: ot["a"] }); var ut = a("bbf5"), dt = a.n(ut), ht = (a("53b4"), a("da32")), ft = a.n(ht), vt = (a("5638"), a("3024"), a("be3b"), { components: { ChangeStatusDialog: j, DateRangePicker: dt.a, Statistics: F, StatisticsCard: ct, emptyDataSvg: ft.a }, filters: { dateCell: function (t) { var e = new Date(t); return e.getDate() }, date: function (t) { return t ? t.toLocaleString() : "" } }, data: function () { return { isLoading: !1, sortBy: "date", sortDesc: !0, statusTypes: ["waiting", "Accepted", "rejected"], selectedStatus: { key: "pending", value: 1 }, selectedType: "", selectedDetectionType: "", page: 1, total: 0, numberOfPages: 0, options: {}, breadcrumbs: [{ text: this.$t("menu.pipesModel"), disabled: !1, href: "#" }, { text: this.$t("menu.selectLocation"), disabled: !1, href: "/models" }, { text: "" }], dialog: !1, CapturedImageOpened: !1, AllCapturedImageOpened: !1, ImageSettingsOpened: !1, searchQuery: "", selectedEvents: [], headers: [{ text: this.$t("tables.id"), align: "start", value: "id" }, { text: this.$t("tables.date"), value: "date" }, { text: this.$t("tables.time"), value: "time" }, { text: this.$t("tables.type"), sortable: !1, value: "type" }, { text: this.$t("tables.status"), sortable: !1, value: "status" }, { text: this.$t("tables.actions"), sortable: !1, align: "center", value: "action" }], items: [], cards: [], gallery: [], filter: [this.$t("dashboard.thismonth"), this.$t("dashboard.lastweek"), this.$t("dashboard.lastmonth")], defaultSelected: this.$t("dashboard.thismonth"), dateRange: { startDate: "", endDate: "" }, eventOpened: {}, eventStatus: "", ctx: null, img: null, scaledWidth: null, scaledHeight: null, x_image: null, y_image: null, boxes: [], percentageWidth: null, percentageHeight: null, eventItem: {}, eventId: 0, export: "", location: "" } }, computed: Object(r["a"])(Object(r["a"])(Object(r["a"])({}, Object(c["e"])("events", ["events", "statuses", "eventTypes", "liveMode", "locations", "detectionTypes"])), Object(c["e"])("app", ["isRTL", "notifications"])), {}, { backgroundImageInlineStyle: function () { return 'background-image: url("'.concat(this.eventOpened.image, '");') }, listen: { get: function () { return this.liveMode }, set: function (t) { var e = this.$route.params.id; this.setLiveModeState({ locationId: e, liveModeState: t }) } }, translatedEventTypes: function () { var t = this, e = this.eventTypes.map((function (e) { return { key: e.key, text: t.$t("general." + e.key), value: e.value } })); return [{ key: "All", text: this.$t("general.all"), value: "" }].concat(Object(s["a"])(e)) }, translatedStatusTypes: function () { var t = this, e = this.statuses.map((function (e) { return { key: e.key, text: t.$t("general." + e.key), value: e.value } })); return [{ key: "All", text: this.$t("general.all"), value: "" }].concat(Object(s["a"])(e)) }, translatedDetectionTypes: function () { var t = this, e = this.detectionTypes.map((function (e) { return { key: e.key, text: t.$t("general." + e.key), value: e.value } })); return [{ key: "All", text: this.$t("general.all"), value: "" }].concat(Object(s["a"])(e)) } }), created: function () { var t = this, e = this.$route.params.id; this.setBreadCrumb({ breadcrumbs: this.breadcrumbs, pageTitle: this.$t("menu.pipesModel") }), this.fetchTypes(), this.fetchLocations(), this.getLiveModeState(e), this.$root.$on("table_component", (function () { t.open() })) }, watch: { eventOpened: function (t) { t && this.getRegressionBoxes() }, listen: function (t) { t ? (console.log("initEcho"), this.initEcho()) : (console.log("stopEcho"), this.stopEcho()) }, options: { handler: function () { this.open() } }, deep: !0, searchQuery: function () { this.open() }, selectedStatus: function () { this.open() }, selectedType: function () { this.open() }, selectedDetectionType: function () { this.open() } }, mounted: function () { }, unmounted: function () { this.stopEcho() }, methods: Object(r["a"])(Object(r["a"])(Object(r["a"])({}, Object(c["b"])("events", ["getEvents", "getTypes", "takeAction", "getLiveModeState", "setLiveModeState", "getLocations"])), Object(c["b"])("app", ["setBreadCrumb"])), {}, { open: function () { var t, e, a, n, i, s, r = this; this.isLoading = !0; var o = this.$route.params.id, l = this.options, c = l.page, u = l.itemsPerPage, d = this.options.sortDesc[0] ? "desc" : "asc", h = { eventId: null !== (t = this.$route.query.id) && void 0 !== t ? t : "", search: null !== (e = this.searchQuery) && void 0 !== e ? e : "", status: null !== (a = this.selectedStatus.value) && void 0 !== a ? a : "", type: null !== (n = this.selectedType.value) && void 0 !== n ? n : "", detectionType: null !== (i = this.selectedDetectionType.value) && void 0 !== i ? i : "", pageSize: u, pageNumber: c, locationId: o, sortDirection: d, sortColumn: null !== (s = this.options.sortBy[0]) && void 0 !== s ? s : "", startDate: this.dateRange.startDate ? B()(this.dateRange.startDate).format("YYYY-MM-DD") : "", endDate: this.dateRange.endDate ? B()(this.dateRange.endDate).format("YYYY-MM-DD") : "", export: this.export }; this.getEvents(h).then((function (t) { if (r.isLoading = !1, r.export) { var e = window.URL.createObjectURL(new Blob([t.data])), a = document.createElement("a"); a.href = e, a.setAttribute("download", "events.xlsx"), document.body.appendChild(a), a.click(), r.export = "" } r.items = r.events.data, r.total = r.events.total, r.numberOfPages = r.events.last_page, r.dateRange.startDate = r.events.start_date, r.dateRange.endDate = r.events.end_date })).catch((function () { r.isLoading = !1 })) }, downloadExcel: function () { this.export = 1, this.open() }, openNotes: function () { var t = this.$route.params.id; this.$router.push("/models/notes/" + t) }, searchEvent: function () { }, changeDatePicker: function () { this.open(), this.$refs.statComponent.cardsData(this.dateRange) }, doAction: function (t, e) { for (var a = this, n = [], i = 0; i < this.selectedEvents.length; i++)n.push(this.selectedEvents[i].id); var s = n.join(","), r = {}; r = { ids: s, action: t, value: e }, this.takeAction(r).then((function (t) { a.isLoading = !1, a.open(), Object(u["b"])("success", t.data.message) })).catch((function () { a.isLoading = !1 })) }, changeStatus: function (t) { this.eventItem = t, this.eventId = t.id }, locationName: function () { var t = { 1: "riyadh", 2: "makkah", 3: "sharqiyah" }, e = this.$route.params.id, a = t[e] || "not_selected"; return this.$t("breadcrumbs.".concat(a)) }, fetchTypes: function () { var t = this; this.isLoading = !0, this.getTypes().then((function () { t.isLoading = !1 })).catch((function () { t.isLoading = !1 })) }, fetchLocations: function () { var t = this; this.isLoading = !0, this.getLocations().then((function () { t.isLoading = !1; var e = t.$route.params.id, a = t.locations.find((function (t) { return t.id == e })) || "not_selected"; t.breadcrumbs[2].text = a.name })).catch((function () { t.isLoading = !1 })) }, openCapturedImage: function (t) { this.eventOpened = t, this.eventStatus = t.status.key, this.CapturedImageOpened = !0 }, closeCapturedImage: function () { this.CapturedImageOpened = !1 }, openAllCapturedImage: function () { this.AllCapturedImageOpened = !0 }, closeAllCapturedImage: function () { this.AllCapturedImageOpened = !1 }, OpenImageSettings: function () { this.ImageSettingsOpened = !0 }, CloseImageSettings: function () { this.ImageSettingsOpened = !1 }, close: function () { this.dialog = !1, this.resetCanvas() }, resetCanvas: function () { this.boxes = [], this.detection = null, this.percentageWidth = null, this.percentageHeight = null, this.ctx = null, this.img = null, this.scaledWidth = null, this.scaledHeight = null, this.x_image = null, this.y_image = null }, resetSelectedDetails: function () { this.selectedDetails = [] }, getRegressionBoxes: function () { var t = this; this.img = new Image, this.img.src = this.eventOpened.image, this.img.onload = function () { var e = document.getElementById("canvas"); t.ctx = e.getContext("2d"); var a = t.img, n = a.naturalWidth, i = a.naturalHeight, s = n / i, r = 450, o = 500; s > 1 ? o = 450 / s : r = 500 * s, e.width = r, e.height = o; var l = Math.min(r / n, o / i); t.scaledWidth = n * l, t.scaledHeight = i * l, t.x_image = (r - t.scaledWidth) / 2, t.y_image = (o - t.scaledHeight) / 2, t.ctx.drawImage(t.img, t.x_image, t.y_image, t.scaledWidth, t.scaledHeight), t.percentageWidth = t.scaledWidth / n, t.percentageHeight = t.scaledHeight / i, t.drawBoxes() } }, drawBoxes: function () { var t = this; this.eventOpened.detections.forEach((function (e, a) { var n = ""; n = "people" === e.type ? "#ffd166" : "vehicles" === e.type ? "#673ab7" : "smoke" === e.type ? "#06d6a0" : "fire" === e.type ? "red" : "leakage" === e.type ? "#0096c7" : "rgba(255, 82, 82, 0.4)"; var i = e.box; t.boxes.push({ detail: i, color: n, filled: !1 }), t.drawBox(a) })) }, drawBox: function (t) { var e = this.boxes[t], a = e.detail, n = e.filled, i = e.color, s = this.prepareCoordinates(a), r = s.top, o = s.height, l = s.left, c = s.width; this.ctx.beginPath(), this.ctx.rect(l, r, c, o), n ? (this.ctx.fillStyle = "rgba(255, 82, 82, 0.4)", this.ctx.fill()) : (this.ctx.strokeStyle = i, this.ctx.lineWidth = 1, this.ctx.stroke()) }, prepareCoordinates: function (t) { var e = t.bottom, a = t.right, n = t.top, i = t.left, s = a - i, r = e - n; return n *= this.percentageHeight, i *= this.percentageWidth, s *= this.percentageWidth, r *= this.percentageHeight, { top: n, left: i, width: s, height: r } }, onCardHover: function (t) { this.boxes[t].filled = !0, this.drawBox(t) }, onCardHoverOff: function (t) { this.boxes[t].filled = !1, this.ctx.clearRect(0, 0, 500, 500), this.ctx.drawImage(this.img, this.x_image, this.y_image, this.scaledWidth, this.scaledHeight), this.drawBoxes(), this.ctx.stroke() }, initEcho: function () { var t = this; console.log(this.$echo), this.$echo.connect(); var e = this.$route.params.id, a = this.$route.query.id; this.$echo.channel("event.".concat(e)).listen(".DetectionEvent", (function (e) { var n = e.eventData; n.types.forEach((function (e) { var a = t.$el.querySelector("#".concat(e, " .text-h4")), n = t.$el.querySelector("#total .text-h4"); a && (a.innerText = +a.innerText + 1), n && (n.innerText = +n.innerText + 1) })); var i = t.options, s = i.page, r = i.itemsPerPage, o = t.options.sortDesc[0] ? "desc" : "asc", l = !0; t.selectedType && (l = n.types.includes(t.selectedType.key)); var c = !0; t.dateRange.startDate && (c = B()(n.date).isAfter(B()(t.dateRange.startDate))), t.dateRange.endDate && (c = B()(n.date).isSameOrBefore(B()(t.dateRange.endDate))), console.log("search", !t.searchQuery.trim()), console.log("status", t.selectedStatus.value === n.status.value), console.log("type", l), console.log("date", c), console.log("eventId", a), !t.searchQuery.trim() && "desc" === o && 1 === s && t.selectedStatus.value === n.status.value && l && c && !a && (t.items.unshift(n), t.total = t.total + 1, console.log(t.items), t.items.length >= r && t.items.pop()) })) }, stopEcho: function () { this.$echo.leave("events"), this.$echo.disconnect() }, formatDateTime: function (t) { var e = B()(t).format("YYYY-MM-DD"), a = B()(t).format("hh:mm:ss A"); return { date: e, time: a } } }) }), pt = vt, mt = (a("6bea"), a("cc20")), gt = a("a523"), bt = a("8fea"), yt = a("8860"), xt = a("da13"), wt = a("5d23"), Ct = a("e449"), _t = a("b73d"), kt = a("8654"), St = Object(f["a"])(pt, n, i, !1, null, "6d74a518", null); e["default"] = St.exports; p()(St, { VBtn: m["a"], VCard: g["a"], VCardText: b["d"], VCardTitle: b["e"], VChip: mt["a"], VCol: y["a"], VContainer: gt["a"], VDataTable: bt["a"], VDivider: w["a"], VIcon: _["a"], VList: yt["a"], VListItem: xt["a"], VListItemTitle: wt["k"], VMenu: Ct["a"], VRow: k["a"], VSelect: S["a"], VSpacer: $["a"], VSwitch: _t["a"], VTextField: kt["a"] }) }, fe09: function (t, e, a) { "use strict"; a.d(e, "b", (function () { return o })); a("4de4"), a("45fc"), a("d3b7"), a("25f0"); var n = a("c37a"), i = a("5311"), s = a("8547"), r = a("58df"); function o(t) { t.preventDefault() } e["a"] = Object(r["a"])(n["b"], i["a"], s["a"]).extend({ name: "selectable", model: { prop: "inputValue", event: "change" }, props: { id: String, inputValue: null, falseValue: null, trueValue: null, multiple: { type: Boolean, default: null }, label: String }, data: function () { return { hasColor: this.inputValue, lazyValue: this.inputValue } }, computed: { computedColor: function () { if (this.isActive) return this.color ? this.color : this.isDark && !this.appIsDark ? "white" : "primary" }, isMultiple: function () { return !0 === this.multiple || null === this.multiple && Array.isArray(this.internalValue) }, isActive: function () { var t = this, e = this.value, a = this.internalValue; return this.isMultiple ? !!Array.isArray(a) && a.some((function (a) { return t.valueComparator(a, e) })) : void 0 === this.trueValue || void 0 === this.falseValue ? e ? this.valueComparator(e, a) : Boolean(a) : this.valueComparator(a, this.trueValue) }, isDirty: function () { return this.isActive }, rippleState: function () { return this.isDisabled || this.validationState ? this.validationState : void 0 } }, watch: { inputValue: function (t) { this.lazyValue = t, this.hasColor = t } }, methods: { genLabel: function () { var t = n["b"].options.methods.genLabel.call(this); return t ? (t.data.on = { click: o }, t) : t }, genInput: function (t, e) { return this.$createElement("input", { attrs: Object.assign({ "aria-checked": this.isActive.toString(), disabled: this.isDisabled, id: this.computedId, role: t, type: t }, e), domProps: { value: this.value, checked: this.isActive }, on: { blur: this.onBlur, change: this.onChange, focus: this.onFocus, keydown: this.onKeydown, click: o }, ref: "input" }) }, onBlur: function () { this.isFocused = !1 }, onClick: function (t) { this.onChange(), this.$emit("click", t) }, onChange: function () { var t = this; if (this.isInteractive) { var e = this.value, a = this.internalValue; if (this.isMultiple) { Array.isArray(a) || (a = []); var n = a.length; a = a.filter((function (a) { return !t.valueComparator(a, e) })), a.length === n && a.push(e) } else a = void 0 !== this.trueValue && void 0 !== this.falseValue ? this.valueComparator(a, this.trueValue) ? this.falseValue : this.trueValue : e ? this.valueComparator(a, e) ? null : e : !a; this.validate(!0, a), this.internalValue = a, this.hasColor = a } }, onFocus: function () { this.isFocused = !0 }, onKeydown: function (t) { } } }) }, ffa0: function (t, e, a) { "use strict"; a.r(e); var n = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("div", { staticClass: "d-flex flex-column flex-grow-1" }, [a("v-row", t._l(t.locations, (function (e) { return a("v-col", { key: e.id, attrs: { cols: "3" } }, [a("v-hover", { scopedSlots: t._u([{ key: "default", fn: function (n) { var i = n.hover; return [a("v-card", { class: { "on-hover": i }, staticStyle: { overflow: "hidden" }, on: { click: function (a) { return t.openModels(e.id) } } }, [a("v-card-title", { staticClass: " " }, [a("v-avatar", { staticClass: "me-2 v-avatar--variant-tonal  primary--text", attrs: { rounded: "", size: "56" } }, [a("v-icon", [t._v("mdi-map-marker ")])], 1), a("div", { staticClass: "title-cont " }, [a("h6", { staticClass: "text-caption" }, [t._v("Location")]), t._v(" " + t._s(e.name) + " ")])], 1), i ? a("v-sheet", { staticClass: "overlay", attrs: { color: "rgba(0, 0, 0, 0.5)" } }, [a("v-icon", { staticClass: "link-icon", attrs: { size: "48", color: "white" } }, [t._v(" mdi-open-in-new ")])], 1) : t._e()], 1)] } }], null, !0) })], 1) })), 1)], 1) }, i = [], s = (a("4160"), a("159b"), a("5530")), r = a("2f62"), o = { components: {}, data: function () { return { breadcrumbs: [{ text: this.$t("menu.pipesModel"), disabled: !1, href: "#" }, { text: this.$t("menu.selectLocation") }], x: 0, y: 0 } }, computed: Object(s["a"])({}, Object(r["e"])("events", ["locations"])), created: function () { this.setBreadCrumb({ breadcrumbs: this.breadcrumbs, pageTitle: this.$t("menu.pipesModel") }) }, mounted: function () { var t = this; this.open(), document.getElementsByClassName("path").forEach((function (e) { e.addEventListener("mouseenter", (function (a) { return t.mouseEnterFunction(a, e) })) })), document.getElementsByClassName("path").forEach((function (e) { e.addEventListener("mouseleave", t.mouseLeaveFunction) })), document.getElementsByClassName("path").forEach((function (e) { e.addEventListener("mousemove", t.mouseMoveFunction) })) }, unmounted: function () { var t = this; document.getElementsByClassName("path").forEach((function (e) { e.removeEventListener("mouseenter", (function (a) { return t.mouseEnterFunction(a, e) })) })), document.getElementsByClassName("path").forEach((function (e) { e.removeEventListener("mouseleave", t.mouseLeaveFunction) })), document.getElementsByClassName("path").forEach((function (e) { e.removeEventListener("mousemove", t.mouseMoveFunction) })) }, methods: Object(s["a"])(Object(s["a"])(Object(s["a"])({}, Object(r["b"])("events", ["getLocations"])), Object(r["b"])("app", ["setBreadCrumb"])), {}, { searchUser: function () { }, open: function () { var t = this; this.isLoading = !0, this.getLocations().then((function () { t.isLoading = !1 })).catch((function () { t.isLoading = !1 })) }, openModels: function (t) { this.$router.push("/models/show/" + t) }, mouseEnterFunction: function (t, e) { e.getAttribute("class"); var a = e.getAttribute("title"); document.getElementsByClassName("RegionsNameInMap").forEach((function (t) { return t.style.display = "block" })), document.getElementsByClassName("RegionsNameInMap").innerHTML = a }, mouseLeaveFunction: function () { document.getElementsByClassName("RegionsNameInMap").forEach((function (t) { t.innerHTML = "", t.style.display = "none" })) }, mouseMoveFunction: function (t) { var e = this; this.x = t.clientX, this.y = t.clientY, document.getElementsByClassName("RegionsNameInMap").forEach((function (t) { t.style.left = e.x + 10 + "px", t.style.top = e.y + 10 + "px" })) } }) }, l = o, c = (a("339a"), a("2877")), u = a("6544"), d = a.n(u), h = a("8212"), f = a("b0afa"), v = a("99d9"), p = a("62ad"), m = a("ce87"), g = a("132d"), b = a("0fd9"), y = a("8dd9"), x = Object(c["a"])(l, n, i, !1, null, "7ee98259", null); e["default"] = x.exports; d()(x, { VAvatar: h["a"], VCard: f["a"], VCardTitle: v["e"], VCol: p["a"], VHover: m["a"], VIcon: g["a"], VRow: b["a"], VSheet: y["a"] }) } }]);
